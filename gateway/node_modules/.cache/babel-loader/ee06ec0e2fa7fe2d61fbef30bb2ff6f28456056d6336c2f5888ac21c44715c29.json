{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../../src/assets/images/Edit.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-4a828750\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"qn-fill\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"back-bt\"\n};\nconst _hoisted_3 = {\n  class: \"paper\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  style: {\n    \"padding-bottom\": \"50px\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"tyn-icon\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n})], -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 1,\n  class: \"body\"\n};\nconst _hoisted_7 = {\n  class: \"title\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"description\"\n};\nconst _hoisted_9 = {\n  class: \"main\"\n};\nconst _hoisted_10 = {\n  class: \"q-title\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"must\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"q-description\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  style: {\n    \"color\": \"#9b9ea0\",\n    \"font-size\": \"x-small\",\n    \"margin\": \"5px\"\n  }\n};\nconst _hoisted_14 = [\"src\"];\nconst _hoisted_15 = {\n  class: \"submit-bt\"\n};\nconst _hoisted_16 = {\n  class: \"tail\"\n};\nconst _hoisted_17 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_arrow_left = _resolveComponent(\"arrow-left\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\");\n  const _component_el_checkbox_group = _resolveComponent(\"el-checkbox-group\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_rate = _resolveComponent(\"el-rate\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.mode === '0' || $data.mode === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_el_button, {\n    type: \"danger\",\n    onClick: $options.quit\n  }, {\n    default: _withCtx(() => [_createVNode(_component_arrow_left), _createTextVNode(\"退出预览 \")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_3, [$data.success || $data.close ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"h1\", null, _toDisplayString($data.success ? '提交成功，感谢您的参与！' : '问卷已结束，感谢您的参与！'), 1 /* TEXT */), _createVNode(_component_el_button, {\n    type: \"primary\",\n    size: \"middle\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.success ? $options.backToSurvey : $options.gotoHome)\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($data.success ? '继续查看问卷信息' : '返回'), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString($data.title), 1 /* TEXT */), $data.description !== '' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \"  \" + _toDisplayString($data.description), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_divider), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questions, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"ques-block\",\n      key: item.id\n    }, [_createElementVNode(\"div\", _hoisted_10, [_createTextVNode(_toDisplayString(item.id) + \". \" + _toDisplayString(item.title) + \" \", 1 /* TEXT */), item.must ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, \"(必填)\")) : _createCommentVNode(\"v-if\", true)]), item.description !== '' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString(item.description), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 图片 \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.imgList, (i, index) => {\n      return _openBlock(), _createBlock(_component_el_row, {\n        class: \"block-img\",\n        key: index\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 12,\n          class: \"demo-image__preview\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_image, {\n            style: {\n              \"width\": \"100%\",\n              \"height\": \"auto\"\n            },\n            src: i.url,\n            \"preview-src-list\": [i.url]\n          }, null, 8 /* PROPS */, [\"src\", \"preview-src-list\"])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */);\n    }), 128 /* KEYED_FRAGMENT */)), item.imgList.length !== 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \"（点击图片查看大图）\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 视频 \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.videoList, (i, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"block-video\",\n        key: index\n      }, [_createElementVNode(\"embed\", {\n        width: \"100%\",\n        height: \"230\",\n        src: i.url\n      }, null, 8 /* PROPS */, _hoisted_14)]);\n    }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" 单选 \"), item.type === 'radio' ? (_openBlock(), _createBlock(_component_el_radio_group, {\n      key: 2,\n      modelValue: $data.answers[item.id - 1].ans,\n      \"onUpdate:modelValue\": $event => $data.answers[item.id - 1].ans = $event\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.options, opt => {\n        return _openBlock(), _createBlock(_component_el_radio, {\n          label: opt.title,\n          key: opt.id\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(opt.title), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\", \"onUpdate:modelValue\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 多选 \"), item.type === 'checkbox' ? (_openBlock(), _createBlock(_component_el_checkbox_group, {\n      key: 3,\n      modelValue: $data.answers[item.id - 1].ansList,\n      \"onUpdate:modelValue\": $event => $data.answers[item.id - 1].ansList = $event\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.options, opt => {\n        return _openBlock(), _createBlock(_component_el_checkbox, {\n          label: opt.title,\n          key: opt.id\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(opt.title), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\", \"onUpdate:modelValue\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 填空 \"), item.type === 'text' ? (_openBlock(), _createBlock(_component_el_input, {\n      key: 4,\n      type: \"textarea\",\n      placeholder: '请输入内容' + (item.row > 1 ? '' : '（单行）'),\n      modelValue: $data.answers[item.id - 1].ans,\n      \"onUpdate:modelValue\": $event => $data.answers[item.id - 1].ans = $event,\n      rows: item.row\n    }, null, 8 /* PROPS */, [\"placeholder\", \"modelValue\", \"onUpdate:modelValue\", \"rows\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 评分 \"), item.type === 'mark' ? (_openBlock(), _createBlock(_component_el_rate, {\n      key: 5,\n      modelValue: $data.answers[item.id - 1].ans,\n      \"onUpdate:modelValue\": $event => $data.answers[item.id - 1].ans = $event,\n      max: item.score\n    }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"max\"])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: $options.submit\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"提交\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])]))]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"a\", {\n    href: $data.rootUrl\n  }, \"问卷星球\", 8 /* PROPS */, _hoisted_17), _createTextVNode(\" 提供技术支持 \")])]);\n}","map":{"version":3,"names":["_imports_0","class","key","style","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","$data","mode","_hoisted_2","_createVNode","_component_el_button","type","onClick","$options","quit","default","_withCtx","_component_arrow_left","_createTextVNode","_","_createCommentVNode","_hoisted_3","success","close","_hoisted_4","_hoisted_5","_toDisplayString","size","_cache","$event","backToSurvey","gotoHome","_hoisted_6","_hoisted_7","title","description","_hoisted_8","_component_el_divider","_hoisted_9","_Fragment","_renderList","questions","item","id","_hoisted_10","must","_hoisted_11","_hoisted_12","imgList","i","index","_createBlock","_component_el_row","_component_el_col","span","_component_el_image","url","length","_hoisted_13","videoList","width","height","_hoisted_14","_component_el_radio_group","modelValue","answers","ans","options","opt","_component_el_radio","label","_component_el_checkbox_group","ansList","_component_el_checkbox","_component_el_input","placeholder","row","rows","_component_el_rate","max","score","_hoisted_15","submit","_hoisted_16","href","rootUrl","_hoisted_17"],"sources":["E:\\mytest\\src\\views\\qn-fillpane\\fillQnMobile.vue"],"sourcesContent":["<template>\r\n    <div class=\"qn-fill\">\r\n      <div class=\"back-bt\" v-if=\"mode==='0' || mode===0\">\r\n        <el-button type=\"danger\" @click=\"quit\">\r\n          <arrow-left />退出预览\r\n        </el-button>\r\n      </div>\r\n      <div class=\"paper\">\r\n        <div v-if=\"success || close\" style=\"padding-bottom: 50px\">\r\n          <div class=\"tyn-icon\">\r\n            <img src=\"../../../src/assets/images/Edit.png\" alt=\"\">\r\n          </div>\r\n          <h1>{{ success ? '提交成功，感谢您的参与！' : '问卷已结束，感谢您的参与！' }}</h1>\r\n          <el-button type=\"primary\" size=\"middle\" @click=\"success ? backToSurvey : gotoHome\">{{ success ? '继续查看问卷信息' : '返回' }}</el-button>\r\n        </div>\r\n        <div v-else class=\"body\">\r\n          <div class=\"title\">{{ title }}</div>\r\n          <div class=\"description\" v-if=\"description !== ''\">&emsp;&emsp;{{ description }}</div>\r\n          <el-divider></el-divider>\r\n          <div class=\"main\">\r\n            <div class=\"ques-block\" v-for=\"item in questions\" :key=\"item.id\">\r\n              <div class=\"q-title\">\r\n                {{ item.id }}. {{ item.title }} <span class=\"must\" v-if=\"item.must\">(必填)</span>\r\n              </div>\r\n              <div class=\"q-description\" v-if=\"item.description !== ''\">{{ item.description }}</div>\r\n              <!-- 图片 -->\r\n              <el-row class=\"block-img\" v-for=\"(i, index) in item.imgList\" :key=\"index\">\r\n                <el-col :span=\"12\" class=\"demo-image__preview\">\r\n                  <el-image\r\n                      style=\"width: 100%; height: auto\"\r\n                      :src=\"i.url\"\r\n                      :preview-src-list=\"[i.url]\">\r\n                  </el-image>\r\n                </el-col>\r\n              </el-row>\r\n              <span style=\"color: #9b9ea0;font-size: x-small;margin: 5px\" v-if=\"item.imgList.length !== 0\">（点击图片查看大图）</span>\r\n              <!-- 视频 -->\r\n              <div class=\"block-video\" v-for=\"(i, index) in item.videoList\" :key=\"index\">\r\n                <embed width=\"100%\" height=\"230\" :src=\"i.url\"></embed>\r\n              </div>\r\n              <!-- 单选 -->\r\n              <el-radio-group v-if=\"item.type === 'radio'\" v-model=\"answers[item.id - 1].ans\">\r\n                <el-radio :label=\"opt.title\" v-for=\"opt in item.options\" :key=\"opt.id\">\r\n                  {{ opt.title }}\r\n                </el-radio>\r\n              </el-radio-group>\r\n              <!-- 多选 -->\r\n              <el-checkbox-group v-if=\"item.type === 'checkbox'\" v-model=\"answers[item.id - 1].ansList\">\r\n                <el-checkbox :label=\"opt.title\" v-for=\"opt in item.options\" :key=\"opt.id\">\r\n                  {{ opt.title }}\r\n                </el-checkbox>\r\n              </el-checkbox-group>\r\n              <!-- 填空 -->\r\n              <el-input v-if=\"item.type === 'text'\" type=\"textarea\" :placeholder=\"'请输入内容' + (item.row > 1 ? '' : '（单行）')\" v-model=\"answers[item.id - 1].ans\" :rows=\"item.row\"></el-input>\r\n              <!-- 评分 -->\r\n              <el-rate v-if=\"item.type === 'mark'\" v-model=\"answers[item.id - 1].ans\" :max=\"item.score\"></el-rate>\r\n            </div>\r\n          </div>\r\n          <div class=\"submit-bt\">\r\n            <el-button type=\"primary\" @click=\"submit\">提交</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"tail\">\r\n        <a :href=\"rootUrl\">问卷星球</a>&ensp;提供技术支持\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n<script>\r\nimport { ArrowLeft } from '@element-plus/icons-vue'\r\nimport { ElButton, ElRadio, ElCheckbox, ElInput, ElRate, ElRow, ElCol } from 'element-plus';\r\n// import 'element-plus/lib/theme-chalk/index.css'; // 全局引入样式\r\nimport getDataApi from \"@/utils/getDataApi\";\r\nimport saveAnsApi from \"@/utils/saveDataApi\";\r\nexport default {\r\n  name: \"FillQn\",\r\n  mixins: [getDataApi, saveAnsApi],\r\n  components: { \r\n    ElButton, ElRadio, ElCheckbox, ElInput, ElRate, ElRow, ElCol,\r\n    ArrowLeft // 引用图标\r\n  },\r\n  data() {\r\n    return {\r\n      rootUrl: 'http://localhost:8080/',\r\n\r\n      success: false,\r\n      close: false,\r\n\r\n      mode: this.$route.query.mode,\r\n      title: '',\r\n      description: '',\r\n      // type: '',\r\n      answers:[\r\n          // {\r\n          //     question_id: 66,\r\n          //     type: \"radio\",\r\n          //     ans: \"\",\r\n          //     ansList: [],\r\n          //     answer: \"\"\r\n          // },\r\n          // {\r\n          //     question_id: 67,\r\n          //     type: \"checkbox\",\r\n          //     ans: \"\",\r\n          //     ansList: [],\r\n          //     answer: \"\"\r\n          // },\r\n          // {\r\n          //     question_id: 68,\r\n          //     type: \"radio\",\r\n          //     ans: \"\",\r\n          //     ansList: [],\r\n          //     answer: \"\"\r\n          // },\r\n          // {\r\n          //     question_id: 69,\r\n          //     type: \"radio\",\r\n          //     ans: \"\",\r\n          //     ansList: [],\r\n          //     answer: \"\"\r\n          // },\r\n          // {\r\n          //     question_id: 70,\r\n          //     type: \"mark\",\r\n          //     ans: 9,\r\n          //     ansList: [],\r\n          //     answer: \"9\"\r\n          // },\r\n    ],\r\n    questions: [\r\n        // {\r\n        //     last_question: 0,\r\n        //     last_option: 0,\r\n        //     is_shown: true,\r\n        //     question_id: 222,\r\n        //     row: 1,\r\n        //     score: 10,\r\n        //     title: \"小学期开发的内容是？\",\r\n        //     description: \"看看你们是不是还没看需求\",\r\n        //     must: true,\r\n        //     type: \"radio\",\r\n        //     qn_id: 97,\r\n        //     refer: \"问卷星球\",\r\n        //     point: 20,\r\n        //     id: 1,\r\n        //     options: [\r\n        //         {\r\n        //             id: 1,\r\n        //             title: \"问卷星球\"\r\n        //         },\r\n        //         {\r\n        //             id: 2,\r\n        //             title: \"出版系统\"\r\n        //         }\r\n        //     ],\r\n        //     answer: \"\",\r\n        //     imgList: [{\r\n        //       name: '1.jpg',\r\n        //       url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg'\r\n        //     },{\r\n        //       name: '2.jpg',\r\n        //       url: 'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg'\r\n        //     }],\r\n        //     videoList: [\r\n        //     ]\r\n        // },\r\n        // {\r\n        //     last_question: 1,\r\n        //     last_option: 1,\r\n        //     is_shown: true,\r\n        //     question_id: 223,\r\n        //     row: 1,\r\n        //     score: 10,\r\n        //     title: \"本次小学期的助教有？\",\r\n        //     description: \"不会吧不会吧，不会有人真以为助教只是助教吧？\",\r\n        //     must: true,\r\n        //     type: \"checkbox\",\r\n        //     refer: \"ZXH-<^-^>-HZY\", \r\n        //     point: 30,\r\n        //     id: 2,\r\n        //     options: [\r\n        //         {\r\n        //             id: 1,\r\n        //             title: \"ZXH\"\r\n        //         },\r\n        //         {\r\n        //             id: 2,\r\n        //             title: \"ZYH\"\r\n        //         },\r\n        //         {\r\n        //             id: 3,\r\n        //             title: \"HZY\"\r\n        //         },\r\n        //         {\r\n        //             id: 4,\r\n        //             title: \"ZHT\"\r\n        //         },\r\n        //         {\r\n        //             id: 5,\r\n        //             title: \"LKW\"\r\n        //         }\r\n        //     ],\r\n        //     answer: \"\",\r\n        //     imgList: [],\r\n        //     videoList: []\r\n        // },\r\n        // {\r\n        //     last_question: 2,\r\n        //     last_option: 1,\r\n        //     is_shown: true,\r\n        //     question_id: 224,\r\n        //     row: 1,\r\n        //     score: 10,\r\n        //     title: \"杀戮尖塔最强的角色是\",\r\n        //     description: \"没开偏差认知\",\r\n        //     must: true,\r\n        //     type: \"radio\",\r\n        //     // qn_id: 99,\r\n        //     refer: \"问卷星球\",\r\n        //     point: 20,\r\n        //     id: 3,\r\n        //     options: [\r\n        //         {\r\n        //             id: 1,\r\n        //             title: \"鸡煲\"\r\n        //         },\r\n        //         {\r\n        //             id: 2,\r\n        //             title: \"观者\"\r\n        //         }\r\n        //     ],\r\n        //     answer: \"\",\r\n        //     imgList: [],\r\n        //     videoList: []\r\n        // },\r\n    ]\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    ahead(qid){\r\n        if(qid===0) return true;\r\n        for(let i=0;i<this.questions.length;i++){\r\n          if(this.questions[i].id===qid){\r\n            if(this.questions[i].is_shown===true) return this.ahead(this.questions[i].last_question);\r\n            else return false;\r\n          }\r\n        }\r\n        return false;\r\n    },\r\n    changeHandler(id,value) {\r\n        console.log( id+ '改变之后的值是:' + value);\r\n        let pid=0;\r\n        for(let j=0;j<this.questions[id-1].options.length;j++){\r\n          if(value===this.questions[id-1].options[j].title) pid=this.questions[id-1].options[j].id;\r\n        }\r\n        for(let i=id;i<this.questions.length;i++){\r\n          if(this.questions[i].last_question===id&&this.questions[i].last_option===pid){\r\n            console.log(this.questions[i]);\r\n            console.log(this.questions[i].last_option);\r\n            this.questions[i].is_shown=true;\r\n          }\r\n          else if(this.questions[i].last_question===id){\r\n            this.questions[i].is_shown=false;\r\n          }\r\n        }\r\n    },\r\n    changeHandler2(id,value){\r\n      console.log( id+ '改变之后的值是:' + value);\r\n      let pid=[];\r\n      let a=0;\r\n      let find=false;\r\n        for(let j=0;j<this.questions[id-1].options.length;j++){\r\n          for(let k=0;k<value.length;k++){\r\n            if(value[k]===this.questions[id-1].options[j].title) {\r\n              pid[a++]=this.questions[id-1].options[j].id;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        for(let i=id;i<this.questions.length;i++){\r\n          if(this.questions[i].last_question===id){\r\n            for(let k=0;k<pid.length;k++){\r\n              if(this.questions[i].last_option===pid[k]){\r\n                this.questions[i].is_shown=true; \r\n                find=true; \r\n                break;\r\n              }\r\n            }\r\n            if(!find) this.questions[i].is_shown=false;\r\n          }\r\n        }\r\n    },\r\n    gotoHome() {\r\n      this.$router.push('/');\r\n    },\r\n    backToSurvey() {\r\n      this.success = false;\r\n      this.repeat = false;\r\n      this.close = false;\r\n      location.reload();\r\n    },\r\n    submit: function () {\r\n      this.submitAns('1');\r\n    },\r\n    quit: function () {\r\n      this.$confirm('请选择返回问卷编辑页面或问卷中心？', '确认信息', {\r\n        distinguishCancelAndClose: true,\r\n        confirmButtonText: '编辑页面',\r\n        cancelButtonText: '问卷中心'\r\n      })\r\n          .then(() => {\r\n            location.href = this.GLOBAL.baseUrl + \"/edit?pid=\" + this.$route.query.pid;\r\n          })\r\n          .catch(action => {\r\n            if (action === 'cancel') {\r\n              this.$router.push('/index');\r\n            }\r\n          });\r\n\r\n    },\r\n    fetchQuestions() {\r\n          // 假设从后端获取问题数据的过程\r\n          const formData = new FormData();\r\n          // formData.append(\"survey_keyword\", this.loginForm.user);\r\n          formData.append(\"code\", this.$route.params.code);\r\n          this.$axios({\r\n              method: 'post',\r\n              url: '/question/api/listquestionforfill',\r\n              data: formData,\r\n          }).then(res => {\r\n              switch (res.data.status_code) {\r\n              case 1:\r\n                  this.title = res.data.title;\r\n                  this.description = res.data.description;\r\n                  this.questions = JSON.parse(res.data.data);\r\n                  this.answers = this.questions.map(question => ({\r\n                      id: question.id,\r\n                      type: question.type,\r\n                      ans: '',\r\n                      ansList: []\r\n                  }));\r\n                  // for (var i = 0; i < this.questionnaires.length; i++) {\r\n                  // if (this.questionnaires[i].questionType == '1')\r\n                  //     this.questionnaires[i].questionType = '普通问卷'\r\n                  // else if (this.questionnaires[i].questionType == '2')\r\n                  //     this.questionnaires[i].questionType = '投票问卷'\r\n                  // else if (this.questionnaires[i].questionType == '3')\r\n                  //     this.questionnaires[i].questionType = '考试问卷'\r\n                  // else\r\n                  //     this.questionnaires[i].questionType = '报名问卷'\r\n                  // }\r\n                  console.log(this.title);\r\n                  console.log(this.description);\r\n                  console.log(this.questions);\r\n                  console.log(\"answers init:\");\r\n                  console.log(this.answers);\r\n                  console.log(\"success on fetching questions\");\r\n                  break;\r\n              case 2:\r\n                  console.log(\"error 2\");\r\n                  break;\r\n              case 3:\r\n                  console.log(\"error 3\");\r\n                  break;\r\n              case 4:\r\n                  console.log(\"error 4\");\r\n                  break;\r\n              case 5:\r\n                  console.log(\"error 5\");\r\n                  break;\r\n              case -1:\r\n                  break;\r\n              }\r\n          }).catch(err => {\r\n              console.log(err);\r\n          });\r\n    },\r\n  },\r\n  created() {\r\n    // if (this.mode === '0') {\r\n    //   this.getQnDataForPreview();\r\n    // }\r\n    // else if (this.mode === '1') {\r\n    //   this.getQnDataForFill(false,false);\r\n    // }\r\n    this.fetchQuestions();\r\n  },\r\n}\r\n</script>\r\n\r\n  \r\n  <style scoped>\r\n  .qn-fill {\r\n    padding: 20px;\r\n  }\r\n  .back-bt {\r\n    margin-bottom: 20px;\r\n  }\r\n  .paper {\r\n    background-color: #fff;\r\n    border-radius: 10px;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);\r\n    padding: 20px;\r\n  }\r\n  .tyn-icon {\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .title {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n  }\r\n  .description {\r\n    font-size: 16px;\r\n    color: #666;\r\n    margin-bottom: 20px;\r\n  }\r\n  .el-divider--horizontal {\r\n    margin: 20px 0;\r\n  }\r\n  .ques-block {\r\n    margin-bottom: 20px;\r\n  }\r\n  .q-title {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n  }\r\n  .q-description {\r\n    font-size: 14px;\r\n    color: #999;\r\n    margin-bottom: 10px;\r\n  }\r\n  .must {\r\n    color: crimson;\r\n  }\r\n  .block-img {\r\n    margin-bottom: 10px;\r\n  }\r\n  .block-video {\r\n    margin-bottom: 10px;\r\n  }\r\n  .submit-bt {\r\n    text-align: center;\r\n    margin-top: 20px;\r\n  }\r\n  .tail {\r\n    text-align: center;\r\n    color: #999;\r\n    margin-top: 20px;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}