{"ast":null,"code":"import Camera from '../Camera';\n\n/**\n * @constructor clay.camera.Perspective\n * @extends clay.Camera\n */\nvar Perspective = Camera.extend( /** @lends clay.camera.Perspective# */{\n  /**\n   * Vertical field of view in degrees\n   * @type {number}\n   */\n  fov: 50,\n  /**\n   * Aspect ratio, typically viewport width / height\n   * @type {number}\n   */\n  aspect: 1,\n  /**\n   * Near bound of the frustum\n   * @type {number}\n   */\n  near: 0.1,\n  /**\n   * Far bound of the frustum\n   * @type {number}\n   */\n  far: 2000\n}, /** @lends clay.camera.Perspective.prototype */\n{\n  updateProjectionMatrix: function () {\n    var rad = this.fov / 180 * Math.PI;\n    this.projectionMatrix.perspective(rad, this.aspect, this.near, this.far);\n  },\n  decomposeProjectionMatrix: function () {\n    var m = this.projectionMatrix.array;\n    var rad = Math.atan(1 / m[5]) * 2;\n    this.fov = rad / Math.PI * 180;\n    this.aspect = m[5] / m[0];\n    this.near = m[14] / (m[10] - 1);\n    this.far = m[14] / (m[10] + 1);\n  },\n  /**\n   * @return {clay.camera.Perspective}\n   */\n  clone: function () {\n    var camera = Camera.prototype.clone.call(this);\n    camera.fov = this.fov;\n    camera.aspect = this.aspect;\n    camera.near = this.near;\n    camera.far = this.far;\n    return camera;\n  }\n});\nexport default Perspective;","map":{"version":3,"names":["Camera","Perspective","extend","fov","aspect","near","far","updateProjectionMatrix","rad","Math","PI","projectionMatrix","perspective","decomposeProjectionMatrix","m","array","atan","clone","camera","prototype","call"],"sources":["E:/mytest/node_modules/claygl/src/camera/Perspective.js"],"sourcesContent":["import Camera from '../Camera';\n\n/**\n * @constructor clay.camera.Perspective\n * @extends clay.Camera\n */\nvar Perspective = Camera.extend(/** @lends clay.camera.Perspective# */{\n    /**\n     * Vertical field of view in degrees\n     * @type {number}\n     */\n    fov: 50,\n    /**\n     * Aspect ratio, typically viewport width / height\n     * @type {number}\n     */\n    aspect: 1,\n    /**\n     * Near bound of the frustum\n     * @type {number}\n     */\n    near: 0.1,\n    /**\n     * Far bound of the frustum\n     * @type {number}\n     */\n    far: 2000\n},\n/** @lends clay.camera.Perspective.prototype */\n{\n\n    updateProjectionMatrix: function() {\n        var rad = this.fov / 180 * Math.PI;\n        this.projectionMatrix.perspective(rad, this.aspect, this.near, this.far);\n    },\n    decomposeProjectionMatrix: function () {\n        var m = this.projectionMatrix.array;\n        var rad = Math.atan(1 / m[5]) * 2;\n        this.fov = rad / Math.PI * 180;\n        this.aspect = m[5] / m[0];\n        this.near = m[14] / (m[10] - 1);\n        this.far = m[14] / (m[10] + 1);\n    },\n    /**\n     * @return {clay.camera.Perspective}\n     */\n    clone: function() {\n        var camera = Camera.prototype.clone.call(this);\n        camera.fov = this.fov;\n        camera.aspect = this.aspect;\n        camera.near = this.near;\n        camera.far = this.far;\n\n        return camera;\n    }\n});\n\nexport default Perspective;\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,WAAW;;AAE9B;AACA;AACA;AACA;AACA,IAAIC,WAAW,GAAGD,MAAM,CAACE,MAAM,EAAC,sCAAsC;EAClE;AACJ;AACA;AACA;EACIC,GAAG,EAAE,EAAE;EACP;AACJ;AACA;AACA;EACIC,MAAM,EAAE,CAAC;EACT;AACJ;AACA;AACA;EACIC,IAAI,EAAE,GAAG;EACT;AACJ;AACA;AACA;EACIC,GAAG,EAAE;AACT,CAAC,EACD;AACA;EAEIC,sBAAsB,EAAE,SAAAA,CAAA,EAAW;IAC/B,IAAIC,GAAG,GAAG,IAAI,CAACL,GAAG,GAAG,GAAG,GAAGM,IAAI,CAACC,EAAE;IAClC,IAAI,CAACC,gBAAgB,CAACC,WAAW,CAACJ,GAAG,EAAE,IAAI,CAACJ,MAAM,EAAE,IAAI,CAACC,IAAI,EAAE,IAAI,CAACC,GAAG,CAAC;EAC5E,CAAC;EACDO,yBAAyB,EAAE,SAAAA,CAAA,EAAY;IACnC,IAAIC,CAAC,GAAG,IAAI,CAACH,gBAAgB,CAACI,KAAK;IACnC,IAAIP,GAAG,GAAGC,IAAI,CAACO,IAAI,CAAC,CAAC,GAAGF,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;IACjC,IAAI,CAACX,GAAG,GAAGK,GAAG,GAAGC,IAAI,CAACC,EAAE,GAAG,GAAG;IAC9B,IAAI,CAACN,MAAM,GAAGU,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;IACzB,IAAI,CAACT,IAAI,GAAGS,CAAC,CAAC,EAAE,CAAC,IAAIA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAC/B,IAAI,CAACR,GAAG,GAAGQ,CAAC,CAAC,EAAE,CAAC,IAAIA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;EAClC,CAAC;EACD;AACJ;AACA;EACIG,KAAK,EAAE,SAAAA,CAAA,EAAW;IACd,IAAIC,MAAM,GAAGlB,MAAM,CAACmB,SAAS,CAACF,KAAK,CAACG,IAAI,CAAC,IAAI,CAAC;IAC9CF,MAAM,CAACf,GAAG,GAAG,IAAI,CAACA,GAAG;IACrBe,MAAM,CAACd,MAAM,GAAG,IAAI,CAACA,MAAM;IAC3Bc,MAAM,CAACb,IAAI,GAAG,IAAI,CAACA,IAAI;IACvBa,MAAM,CAACZ,GAAG,GAAG,IAAI,CAACA,GAAG;IAErB,OAAOY,MAAM;EACjB;AACJ,CAAC,CAAC;AAEF,eAAejB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}