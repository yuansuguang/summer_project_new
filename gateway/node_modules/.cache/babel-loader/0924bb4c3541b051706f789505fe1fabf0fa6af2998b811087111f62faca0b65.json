{"ast":null,"code":"import \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport Shader from 'claygl/src/Shader';\nimport Texture2D from 'claygl/src/Texture2D';\nimport Texture from 'claygl/src/Texture';\nimport FrameBuffer from 'claygl/src/FrameBuffer';\nimport createCompositor from 'claygl/src/compositor/createCompositor';\nimport SSAOPass from './SSAOPass';\nimport SSRPass from './SSRPass';\nimport poissonKernel from './poissonKernel';\nimport graphicGL from '../util/graphicGL';\nimport NormalPass from './NormalPass';\nimport EdgePass from './EdgePass';\nimport effectJson from './composite.js';\nimport blurCode from 'claygl/src/shader/source/compositor/blur.glsl.js';\nimport lutCode from 'claygl/src/shader/source/compositor/lut.glsl.js';\nimport outputCode from 'claygl/src/shader/source/compositor/output.glsl.js';\nimport brightCode from 'claygl/src/shader/source/compositor/bright.glsl.js';\nimport downsampleCode from 'claygl/src/shader/source/compositor/downsample.glsl.js';\nimport upsampleCode from 'claygl/src/shader/source/compositor/upsample.glsl.js';\nimport hdrCode from 'claygl/src/shader/source/compositor/hdr.glsl.js';\nimport blendCode from 'claygl/src/shader/source/compositor/blend.glsl.js';\nimport fxaaCode from 'claygl/src/shader/source/compositor/fxaa.glsl.js';\nimport DOFCode from './DOF.glsl.js';\nimport edgeCode from './edge.glsl.js';\nShader['import'](blurCode);\nShader['import'](lutCode);\nShader['import'](outputCode);\nShader['import'](brightCode);\nShader['import'](downsampleCode);\nShader['import'](upsampleCode);\nShader['import'](hdrCode);\nShader['import'](blendCode);\nShader['import'](fxaaCode);\nShader['import'](DOFCode);\nShader['import'](edgeCode);\nfunction makeCommonOutputs(getWidth, getHeight) {\n  return {\n    color: {\n      parameters: {\n        width: getWidth,\n        height: getHeight\n      }\n    }\n  };\n}\nvar FINAL_NODES_CHAIN = ['composite', 'FXAA'];\nfunction EffectCompositor() {\n  this._width;\n  this._height;\n  this._dpr;\n  this._sourceTexture = new Texture2D({\n    type: Texture.HALF_FLOAT\n  });\n  this._depthTexture = new Texture2D({\n    format: Texture.DEPTH_COMPONENT,\n    type: Texture.UNSIGNED_INT\n  });\n  this._framebuffer = new FrameBuffer();\n  this._framebuffer.attach(this._sourceTexture);\n  this._framebuffer.attach(this._depthTexture, FrameBuffer.DEPTH_ATTACHMENT);\n  this._normalPass = new NormalPass();\n  this._compositor = createCompositor(effectJson);\n  var sourceNode = this._compositor.getNodeByName('source');\n  sourceNode.texture = this._sourceTexture;\n  var cocNode = this._compositor.getNodeByName('coc');\n  this._sourceNode = sourceNode;\n  this._cocNode = cocNode;\n  this._compositeNode = this._compositor.getNodeByName('composite');\n  this._fxaaNode = this._compositor.getNodeByName('FXAA');\n  this._dofBlurNodes = ['dof_far_blur', 'dof_near_blur', 'dof_coc_blur'].map(function (name) {\n    return this._compositor.getNodeByName(name);\n  }, this);\n  this._dofBlurKernel = 0;\n  this._dofBlurKernelSize = new Float32Array(0);\n  this._finalNodesChain = FINAL_NODES_CHAIN.map(function (name) {\n    return this._compositor.getNodeByName(name);\n  }, this);\n  var gBufferObj = {\n    normalTexture: this._normalPass.getNormalTexture(),\n    depthTexture: this._normalPass.getDepthTexture()\n  };\n  this._ssaoPass = new SSAOPass(gBufferObj);\n  this._ssrPass = new SSRPass(gBufferObj);\n  this._edgePass = new EdgePass(gBufferObj);\n}\nEffectCompositor.prototype.resize = function (width, height, dpr) {\n  dpr = dpr || 1;\n  var width = width * dpr;\n  var height = height * dpr;\n  var sourceTexture = this._sourceTexture;\n  var depthTexture = this._depthTexture;\n  sourceTexture.width = width;\n  sourceTexture.height = height;\n  depthTexture.width = width;\n  depthTexture.height = height;\n  var rendererMock = {\n    getWidth: function () {\n      return width;\n    },\n    getHeight: function () {\n      return height;\n    },\n    getDevicePixelRatio: function () {\n      return dpr;\n    }\n  };\n  function wrapCallback(obj, key) {\n    if (typeof obj[key] === 'function') {\n      var oldFunc = obj[key].__original || obj[key]; // Use viewport width/height instead of renderer width/height\n\n      obj[key] = function (renderer) {\n        return oldFunc.call(this, rendererMock);\n      };\n      obj[key].__original = oldFunc;\n    }\n  }\n  this._compositor.nodes.forEach(function (node) {\n    for (var outKey in node.outputs) {\n      var parameters = node.outputs[outKey].parameters;\n      if (parameters) {\n        wrapCallback(parameters, 'width');\n        wrapCallback(parameters, 'height');\n      }\n    }\n    for (var paramKey in node.parameters) {\n      wrapCallback(node.parameters, paramKey);\n    }\n  });\n  this._width = width;\n  this._height = height;\n  this._dpr = dpr;\n};\nEffectCompositor.prototype.getWidth = function () {\n  return this._width;\n};\nEffectCompositor.prototype.getHeight = function () {\n  return this._height;\n};\nEffectCompositor.prototype._ifRenderNormalPass = function () {\n  return this._enableSSAO || this._enableEdge || this._enableSSR;\n};\nEffectCompositor.prototype._getPrevNode = function (node) {\n  var idx = FINAL_NODES_CHAIN.indexOf(node.name) - 1;\n  var prevNode = this._finalNodesChain[idx];\n  while (prevNode && !this._compositor.getNodeByName(prevNode.name)) {\n    idx -= 1;\n    prevNode = this._finalNodesChain[idx];\n  }\n  return prevNode;\n};\nEffectCompositor.prototype._getNextNode = function (node) {\n  var idx = FINAL_NODES_CHAIN.indexOf(node.name) + 1;\n  var nextNode = this._finalNodesChain[idx];\n  while (nextNode && !this._compositor.getNodeByName(nextNode.name)) {\n    idx += 1;\n    nextNode = this._finalNodesChain[idx];\n  }\n  return nextNode;\n};\nEffectCompositor.prototype._addChainNode = function (node) {\n  var prevNode = this._getPrevNode(node);\n  var nextNode = this._getNextNode(node);\n  if (!prevNode) {\n    return;\n  }\n  node.inputs.texture = prevNode.name;\n  if (nextNode) {\n    node.outputs = makeCommonOutputs(this.getWidth.bind(this), this.getHeight.bind(this));\n    nextNode.inputs.texture = node.name;\n  } else {\n    node.outputs = null;\n  }\n  this._compositor.addNode(node);\n};\nEffectCompositor.prototype._removeChainNode = function (node) {\n  var prevNode = this._getPrevNode(node);\n  var nextNode = this._getNextNode(node);\n  if (!prevNode) {\n    return;\n  }\n  if (nextNode) {\n    prevNode.outputs = makeCommonOutputs(this.getWidth.bind(this), this.getHeight.bind(this));\n    nextNode.inputs.texture = prevNode.name;\n  } else {\n    prevNode.outputs = null;\n  }\n  this._compositor.removeNode(node);\n};\n/**\n * Update normal\n */\n\nEffectCompositor.prototype.updateNormal = function (renderer, scene, camera, frame) {\n  if (this._ifRenderNormalPass()) {\n    this._normalPass.update(renderer, scene, camera);\n  }\n};\n/**\n * Render SSAO after render the scene, before compositing\n */\n\nEffectCompositor.prototype.updateSSAO = function (renderer, scene, camera, frame) {\n  this._ssaoPass.update(renderer, camera, frame);\n};\n/**\n * Enable SSAO effect\n */\n\nEffectCompositor.prototype.enableSSAO = function () {\n  this._enableSSAO = true;\n};\n/**\n * Disable SSAO effect\n */\n\nEffectCompositor.prototype.disableSSAO = function () {\n  this._enableSSAO = false;\n};\n/**\n * Enable SSR effect\n */\n\nEffectCompositor.prototype.enableSSR = function () {\n  this._enableSSR = true; // this._normalPass.enableTargetTexture3 = true;\n};\n/**\n * Disable SSR effect\n */\n\nEffectCompositor.prototype.disableSSR = function () {\n  this._enableSSR = false; // this._normalPass.enableTargetTexture3 = false;\n};\n/**\n * Render SSAO after render the scene, before compositing\n */\n\nEffectCompositor.prototype.getSSAOTexture = function () {\n  return this._ssaoPass.getTargetTexture();\n};\n/**\n * @return {clay.FrameBuffer}\n */\n\nEffectCompositor.prototype.getSourceFrameBuffer = function () {\n  return this._framebuffer;\n};\n/**\n * @return {clay.Texture2D}\n */\n\nEffectCompositor.prototype.getSourceTexture = function () {\n  return this._sourceTexture;\n};\n/**\n * Disable fxaa effect\n */\n\nEffectCompositor.prototype.disableFXAA = function () {\n  this._removeChainNode(this._fxaaNode);\n};\n/**\n * Enable fxaa effect\n */\n\nEffectCompositor.prototype.enableFXAA = function () {\n  this._addChainNode(this._fxaaNode);\n};\n/**\n * Enable bloom effect\n */\n\nEffectCompositor.prototype.enableBloom = function () {\n  this._compositeNode.inputs.bloom = 'bloom_composite';\n  this._compositor.dirty();\n};\n/**\n * Disable bloom effect\n */\n\nEffectCompositor.prototype.disableBloom = function () {\n  this._compositeNode.inputs.bloom = null;\n  this._compositor.dirty();\n};\n/**\n * Enable depth of field effect\n */\n\nEffectCompositor.prototype.enableDOF = function () {\n  this._compositeNode.inputs.texture = 'dof_composite';\n  this._compositor.dirty();\n};\n/**\n * Disable depth of field effect\n */\n\nEffectCompositor.prototype.disableDOF = function () {\n  this._compositeNode.inputs.texture = 'source';\n  this._compositor.dirty();\n};\n/**\n * Enable color correction\n */\n\nEffectCompositor.prototype.enableColorCorrection = function () {\n  this._compositeNode.define('COLOR_CORRECTION');\n  this._enableColorCorrection = true;\n};\n/**\n * Disable color correction\n */\n\nEffectCompositor.prototype.disableColorCorrection = function () {\n  this._compositeNode.undefine('COLOR_CORRECTION');\n  this._enableColorCorrection = false;\n};\n/**\n * Enable edge detection\n */\n\nEffectCompositor.prototype.enableEdge = function () {\n  this._enableEdge = true;\n};\n/**\n * Disable edge detection\n */\n\nEffectCompositor.prototype.disableEdge = function () {\n  this._enableEdge = false;\n};\n/**\n * Set bloom intensity\n * @param {number} value\n */\n\nEffectCompositor.prototype.setBloomIntensity = function (value) {\n  this._compositeNode.setParameter('bloomIntensity', value);\n};\nEffectCompositor.prototype.setSSAOParameter = function (name, value) {\n  switch (name) {\n    case 'quality':\n      // PENDING\n      var kernelSize = {\n        low: 6,\n        medium: 12,\n        high: 32,\n        ultra: 62\n      }[value] || 12;\n      this._ssaoPass.setParameter('kernelSize', kernelSize);\n      break;\n    case 'radius':\n      this._ssaoPass.setParameter(name, value);\n      this._ssaoPass.setParameter('bias', value / 200);\n      break;\n    case 'intensity':\n      this._ssaoPass.setParameter(name, value);\n      break;\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Unkown SSAO parameter ' + name);\n      }\n  }\n};\nEffectCompositor.prototype.setDOFParameter = function (name, value) {\n  switch (name) {\n    case 'focalDistance':\n    case 'focalRange':\n    case 'fstop':\n      this._cocNode.setParameter(name, value);\n      break;\n    case 'blurRadius':\n      for (var i = 0; i < this._dofBlurNodes.length; i++) {\n        this._dofBlurNodes[i].setParameter('blurRadius', value);\n      }\n      break;\n    case 'quality':\n      var kernelSize = {\n        low: 4,\n        medium: 8,\n        high: 16,\n        ultra: 32\n      }[value] || 8;\n      this._dofBlurKernelSize = kernelSize;\n      for (var i = 0; i < this._dofBlurNodes.length; i++) {\n        this._dofBlurNodes[i].pass.material.define('POISSON_KERNEL_SIZE', kernelSize);\n      }\n      this._dofBlurKernel = new Float32Array(kernelSize * 2);\n      break;\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Unkown DOF parameter ' + name);\n      }\n  }\n};\nEffectCompositor.prototype.setSSRParameter = function (name, value) {\n  if (value == null) {\n    return;\n  }\n  switch (name) {\n    case 'quality':\n      // PENDING\n      var maxIteration = {\n        low: 10,\n        medium: 15,\n        high: 30,\n        ultra: 80\n      }[value] || 20;\n      var pixelStride = {\n        low: 32,\n        medium: 16,\n        high: 8,\n        ultra: 4\n      }[value] || 16;\n      this._ssrPass.setParameter('maxIteration', maxIteration);\n      this._ssrPass.setParameter('pixelStride', pixelStride);\n      break;\n    case 'maxRoughness':\n      this._ssrPass.setParameter('minGlossiness', Math.max(Math.min(1.0 - value, 1.0), 0.0));\n      break;\n    case 'physical':\n      this.setPhysicallyCorrectSSR(value);\n      break;\n    default:\n      console.warn('Unkown SSR parameter ' + name);\n  }\n};\nEffectCompositor.prototype.setPhysicallyCorrectSSR = function (physical) {\n  this._ssrPass.setPhysicallyCorrect(physical);\n};\n/**\n * Set color of edge\n */\n\nEffectCompositor.prototype.setEdgeColor = function (value) {\n  var color = graphicGL.parseColor(value);\n  this._edgePass.setParameter('edgeColor', color);\n};\nEffectCompositor.prototype.setExposure = function (value) {\n  this._compositeNode.setParameter('exposure', Math.pow(2, value));\n};\nEffectCompositor.prototype.setColorLookupTexture = function (image, api) {\n  this._compositeNode.pass.material.setTextureImage('lut', this._enableColorCorrection ? image : 'none', api, {\n    minFilter: graphicGL.Texture.NEAREST,\n    magFilter: graphicGL.Texture.NEAREST,\n    flipY: false\n  });\n};\nEffectCompositor.prototype.setColorCorrection = function (type, value) {\n  this._compositeNode.setParameter(type, value);\n};\nEffectCompositor.prototype.isSSREnabled = function () {\n  return this._enableSSR;\n};\nEffectCompositor.prototype.composite = function (renderer, scene, camera, framebuffer, frame) {\n  var sourceTexture = this._sourceTexture;\n  var targetTexture = sourceTexture;\n  if (this._enableEdge) {\n    this._edgePass.update(renderer, camera, sourceTexture, frame);\n    sourceTexture = targetTexture = this._edgePass.getTargetTexture();\n  }\n  if (this._enableSSR) {\n    this._ssrPass.update(renderer, camera, sourceTexture, frame);\n    targetTexture = this._ssrPass.getTargetTexture();\n    this._ssrPass.setSSAOTexture(this._enableSSAO ? this._ssaoPass.getTargetTexture() : null); // var lights = scene.getLights();\n    // for (var i = 0; i < lights.length; i++) {\n    //     if (lights[i].cubemap) {\n    //         this._ssrPass.setAmbientCubemap(lights[i].cubemap, lights[i].intensity);\n    //     }\n    // }\n  }\n  this._sourceNode.texture = targetTexture;\n  this._cocNode.setParameter('depth', this._depthTexture);\n  var blurKernel = this._dofBlurKernel;\n  var blurKernelSize = this._dofBlurKernelSize;\n  var frameAll = Math.floor(poissonKernel.length / 2 / blurKernelSize);\n  var kernelOffset = frame % frameAll;\n  for (var i = 0; i < blurKernelSize * 2; i++) {\n    blurKernel[i] = poissonKernel[i + kernelOffset * blurKernelSize * 2];\n  }\n  for (var i = 0; i < this._dofBlurNodes.length; i++) {\n    this._dofBlurNodes[i].setParameter('percent', frame / 30.0);\n    this._dofBlurNodes[i].setParameter('poissonKernel', blurKernel);\n  }\n  this._cocNode.setParameter('zNear', camera.near);\n  this._cocNode.setParameter('zFar', camera.far);\n  this._compositor.render(renderer, framebuffer);\n};\nEffectCompositor.prototype.dispose = function (renderer) {\n  this._sourceTexture.dispose(renderer);\n  this._depthTexture.dispose(renderer);\n  this._framebuffer.dispose(renderer);\n  this._compositor.dispose(renderer);\n  this._normalPass.dispose(renderer);\n  this._ssaoPass.dispose(renderer);\n};\nexport default EffectCompositor;","map":{"version":3,"names":["Shader","Texture2D","Texture","FrameBuffer","createCompositor","SSAOPass","SSRPass","poissonKernel","graphicGL","NormalPass","EdgePass","effectJson","blurCode","lutCode","outputCode","brightCode","downsampleCode","upsampleCode","hdrCode","blendCode","fxaaCode","DOFCode","edgeCode","makeCommonOutputs","getWidth","getHeight","color","parameters","width","height","FINAL_NODES_CHAIN","EffectCompositor","_width","_height","_dpr","_sourceTexture","type","HALF_FLOAT","_depthTexture","format","DEPTH_COMPONENT","UNSIGNED_INT","_framebuffer","attach","DEPTH_ATTACHMENT","_normalPass","_compositor","sourceNode","getNodeByName","texture","cocNode","_sourceNode","_cocNode","_compositeNode","_fxaaNode","_dofBlurNodes","map","name","_dofBlurKernel","_dofBlurKernelSize","Float32Array","_finalNodesChain","gBufferObj","normalTexture","getNormalTexture","depthTexture","getDepthTexture","_ssaoPass","_ssrPass","_edgePass","prototype","resize","dpr","sourceTexture","rendererMock","getDevicePixelRatio","wrapCallback","obj","key","oldFunc","__original","renderer","call","nodes","forEach","node","outKey","outputs","paramKey","_ifRenderNormalPass","_enableSSAO","_enableEdge","_enableSSR","_getPrevNode","idx","indexOf","prevNode","_getNextNode","nextNode","_addChainNode","inputs","bind","addNode","_removeChainNode","removeNode","updateNormal","scene","camera","frame","update","updateSSAO","enableSSAO","disableSSAO","enableSSR","disableSSR","getSSAOTexture","getTargetTexture","getSourceFrameBuffer","getSourceTexture","disableFXAA","enableFXAA","enableBloom","bloom","dirty","disableBloom","enableDOF","disableDOF","enableColorCorrection","define","_enableColorCorrection","disableColorCorrection","undefine","enableEdge","disableEdge","setBloomIntensity","value","setParameter","setSSAOParameter","kernelSize","low","medium","high","ultra","process","env","NODE_ENV","console","warn","setDOFParameter","i","length","pass","material","setSSRParameter","maxIteration","pixelStride","Math","max","min","setPhysicallyCorrectSSR","physical","setPhysicallyCorrect","setEdgeColor","parseColor","setExposure","pow","setColorLookupTexture","image","api","setTextureImage","minFilter","NEAREST","magFilter","flipY","setColorCorrection","isSSREnabled","composite","framebuffer","targetTexture","setSSAOTexture","blurKernel","blurKernelSize","frameAll","floor","kernelOffset","near","far","render","dispose"],"sources":["E:/mytest/node_modules/echarts-gl/lib/effect/EffectCompositor.js"],"sourcesContent":["import Shader from 'claygl/src/Shader';\nimport Texture2D from 'claygl/src/Texture2D';\nimport Texture from 'claygl/src/Texture';\nimport FrameBuffer from 'claygl/src/FrameBuffer';\nimport createCompositor from 'claygl/src/compositor/createCompositor';\nimport SSAOPass from './SSAOPass';\nimport SSRPass from './SSRPass';\nimport poissonKernel from './poissonKernel';\nimport graphicGL from '../util/graphicGL';\nimport NormalPass from './NormalPass';\nimport EdgePass from './EdgePass';\nimport effectJson from './composite.js';\nimport blurCode from 'claygl/src/shader/source/compositor/blur.glsl.js';\nimport lutCode from 'claygl/src/shader/source/compositor/lut.glsl.js';\nimport outputCode from 'claygl/src/shader/source/compositor/output.glsl.js';\nimport brightCode from 'claygl/src/shader/source/compositor/bright.glsl.js';\nimport downsampleCode from 'claygl/src/shader/source/compositor/downsample.glsl.js';\nimport upsampleCode from 'claygl/src/shader/source/compositor/upsample.glsl.js';\nimport hdrCode from 'claygl/src/shader/source/compositor/hdr.glsl.js';\nimport blendCode from 'claygl/src/shader/source/compositor/blend.glsl.js';\nimport fxaaCode from 'claygl/src/shader/source/compositor/fxaa.glsl.js';\nimport DOFCode from './DOF.glsl.js';\nimport edgeCode from './edge.glsl.js';\nShader['import'](blurCode);\nShader['import'](lutCode);\nShader['import'](outputCode);\nShader['import'](brightCode);\nShader['import'](downsampleCode);\nShader['import'](upsampleCode);\nShader['import'](hdrCode);\nShader['import'](blendCode);\nShader['import'](fxaaCode);\nShader['import'](DOFCode);\nShader['import'](edgeCode);\n\nfunction makeCommonOutputs(getWidth, getHeight) {\n  return {\n    color: {\n      parameters: {\n        width: getWidth,\n        height: getHeight\n      }\n    }\n  };\n}\n\nvar FINAL_NODES_CHAIN = ['composite', 'FXAA'];\n\nfunction EffectCompositor() {\n  this._width;\n  this._height;\n  this._dpr;\n  this._sourceTexture = new Texture2D({\n    type: Texture.HALF_FLOAT\n  });\n  this._depthTexture = new Texture2D({\n    format: Texture.DEPTH_COMPONENT,\n    type: Texture.UNSIGNED_INT\n  });\n  this._framebuffer = new FrameBuffer();\n\n  this._framebuffer.attach(this._sourceTexture);\n\n  this._framebuffer.attach(this._depthTexture, FrameBuffer.DEPTH_ATTACHMENT);\n\n  this._normalPass = new NormalPass();\n  this._compositor = createCompositor(effectJson);\n\n  var sourceNode = this._compositor.getNodeByName('source');\n\n  sourceNode.texture = this._sourceTexture;\n\n  var cocNode = this._compositor.getNodeByName('coc');\n\n  this._sourceNode = sourceNode;\n  this._cocNode = cocNode;\n  this._compositeNode = this._compositor.getNodeByName('composite');\n  this._fxaaNode = this._compositor.getNodeByName('FXAA');\n  this._dofBlurNodes = ['dof_far_blur', 'dof_near_blur', 'dof_coc_blur'].map(function (name) {\n    return this._compositor.getNodeByName(name);\n  }, this);\n  this._dofBlurKernel = 0;\n  this._dofBlurKernelSize = new Float32Array(0);\n  this._finalNodesChain = FINAL_NODES_CHAIN.map(function (name) {\n    return this._compositor.getNodeByName(name);\n  }, this);\n  var gBufferObj = {\n    normalTexture: this._normalPass.getNormalTexture(),\n    depthTexture: this._normalPass.getDepthTexture()\n  };\n  this._ssaoPass = new SSAOPass(gBufferObj);\n  this._ssrPass = new SSRPass(gBufferObj);\n  this._edgePass = new EdgePass(gBufferObj);\n}\n\nEffectCompositor.prototype.resize = function (width, height, dpr) {\n  dpr = dpr || 1;\n  var width = width * dpr;\n  var height = height * dpr;\n  var sourceTexture = this._sourceTexture;\n  var depthTexture = this._depthTexture;\n  sourceTexture.width = width;\n  sourceTexture.height = height;\n  depthTexture.width = width;\n  depthTexture.height = height;\n  var rendererMock = {\n    getWidth: function () {\n      return width;\n    },\n    getHeight: function () {\n      return height;\n    },\n    getDevicePixelRatio: function () {\n      return dpr;\n    }\n  };\n\n  function wrapCallback(obj, key) {\n    if (typeof obj[key] === 'function') {\n      var oldFunc = obj[key].__original || obj[key]; // Use viewport width/height instead of renderer width/height\n\n      obj[key] = function (renderer) {\n        return oldFunc.call(this, rendererMock);\n      };\n\n      obj[key].__original = oldFunc;\n    }\n  }\n\n  this._compositor.nodes.forEach(function (node) {\n    for (var outKey in node.outputs) {\n      var parameters = node.outputs[outKey].parameters;\n\n      if (parameters) {\n        wrapCallback(parameters, 'width');\n        wrapCallback(parameters, 'height');\n      }\n    }\n\n    for (var paramKey in node.parameters) {\n      wrapCallback(node.parameters, paramKey);\n    }\n  });\n\n  this._width = width;\n  this._height = height;\n  this._dpr = dpr;\n};\n\nEffectCompositor.prototype.getWidth = function () {\n  return this._width;\n};\n\nEffectCompositor.prototype.getHeight = function () {\n  return this._height;\n};\n\nEffectCompositor.prototype._ifRenderNormalPass = function () {\n  return this._enableSSAO || this._enableEdge || this._enableSSR;\n};\n\nEffectCompositor.prototype._getPrevNode = function (node) {\n  var idx = FINAL_NODES_CHAIN.indexOf(node.name) - 1;\n  var prevNode = this._finalNodesChain[idx];\n\n  while (prevNode && !this._compositor.getNodeByName(prevNode.name)) {\n    idx -= 1;\n    prevNode = this._finalNodesChain[idx];\n  }\n\n  return prevNode;\n};\n\nEffectCompositor.prototype._getNextNode = function (node) {\n  var idx = FINAL_NODES_CHAIN.indexOf(node.name) + 1;\n  var nextNode = this._finalNodesChain[idx];\n\n  while (nextNode && !this._compositor.getNodeByName(nextNode.name)) {\n    idx += 1;\n    nextNode = this._finalNodesChain[idx];\n  }\n\n  return nextNode;\n};\n\nEffectCompositor.prototype._addChainNode = function (node) {\n  var prevNode = this._getPrevNode(node);\n\n  var nextNode = this._getNextNode(node);\n\n  if (!prevNode) {\n    return;\n  }\n\n  node.inputs.texture = prevNode.name;\n\n  if (nextNode) {\n    node.outputs = makeCommonOutputs(this.getWidth.bind(this), this.getHeight.bind(this));\n    nextNode.inputs.texture = node.name;\n  } else {\n    node.outputs = null;\n  }\n\n  this._compositor.addNode(node);\n};\n\nEffectCompositor.prototype._removeChainNode = function (node) {\n  var prevNode = this._getPrevNode(node);\n\n  var nextNode = this._getNextNode(node);\n\n  if (!prevNode) {\n    return;\n  }\n\n  if (nextNode) {\n    prevNode.outputs = makeCommonOutputs(this.getWidth.bind(this), this.getHeight.bind(this));\n    nextNode.inputs.texture = prevNode.name;\n  } else {\n    prevNode.outputs = null;\n  }\n\n  this._compositor.removeNode(node);\n};\n/**\n * Update normal\n */\n\n\nEffectCompositor.prototype.updateNormal = function (renderer, scene, camera, frame) {\n  if (this._ifRenderNormalPass()) {\n    this._normalPass.update(renderer, scene, camera);\n  }\n};\n/**\n * Render SSAO after render the scene, before compositing\n */\n\n\nEffectCompositor.prototype.updateSSAO = function (renderer, scene, camera, frame) {\n  this._ssaoPass.update(renderer, camera, frame);\n};\n/**\n * Enable SSAO effect\n */\n\n\nEffectCompositor.prototype.enableSSAO = function () {\n  this._enableSSAO = true;\n};\n/**\n * Disable SSAO effect\n */\n\n\nEffectCompositor.prototype.disableSSAO = function () {\n  this._enableSSAO = false;\n};\n/**\n * Enable SSR effect\n */\n\n\nEffectCompositor.prototype.enableSSR = function () {\n  this._enableSSR = true; // this._normalPass.enableTargetTexture3 = true;\n};\n/**\n * Disable SSR effect\n */\n\n\nEffectCompositor.prototype.disableSSR = function () {\n  this._enableSSR = false; // this._normalPass.enableTargetTexture3 = false;\n};\n/**\n * Render SSAO after render the scene, before compositing\n */\n\n\nEffectCompositor.prototype.getSSAOTexture = function () {\n  return this._ssaoPass.getTargetTexture();\n};\n/**\n * @return {clay.FrameBuffer}\n */\n\n\nEffectCompositor.prototype.getSourceFrameBuffer = function () {\n  return this._framebuffer;\n};\n/**\n * @return {clay.Texture2D}\n */\n\n\nEffectCompositor.prototype.getSourceTexture = function () {\n  return this._sourceTexture;\n};\n/**\n * Disable fxaa effect\n */\n\n\nEffectCompositor.prototype.disableFXAA = function () {\n  this._removeChainNode(this._fxaaNode);\n};\n/**\n * Enable fxaa effect\n */\n\n\nEffectCompositor.prototype.enableFXAA = function () {\n  this._addChainNode(this._fxaaNode);\n};\n/**\n * Enable bloom effect\n */\n\n\nEffectCompositor.prototype.enableBloom = function () {\n  this._compositeNode.inputs.bloom = 'bloom_composite';\n\n  this._compositor.dirty();\n};\n/**\n * Disable bloom effect\n */\n\n\nEffectCompositor.prototype.disableBloom = function () {\n  this._compositeNode.inputs.bloom = null;\n\n  this._compositor.dirty();\n};\n/**\n * Enable depth of field effect\n */\n\n\nEffectCompositor.prototype.enableDOF = function () {\n  this._compositeNode.inputs.texture = 'dof_composite';\n\n  this._compositor.dirty();\n};\n/**\n * Disable depth of field effect\n */\n\n\nEffectCompositor.prototype.disableDOF = function () {\n  this._compositeNode.inputs.texture = 'source';\n\n  this._compositor.dirty();\n};\n/**\n * Enable color correction\n */\n\n\nEffectCompositor.prototype.enableColorCorrection = function () {\n  this._compositeNode.define('COLOR_CORRECTION');\n\n  this._enableColorCorrection = true;\n};\n/**\n * Disable color correction\n */\n\n\nEffectCompositor.prototype.disableColorCorrection = function () {\n  this._compositeNode.undefine('COLOR_CORRECTION');\n\n  this._enableColorCorrection = false;\n};\n/**\n * Enable edge detection\n */\n\n\nEffectCompositor.prototype.enableEdge = function () {\n  this._enableEdge = true;\n};\n/**\n * Disable edge detection\n */\n\n\nEffectCompositor.prototype.disableEdge = function () {\n  this._enableEdge = false;\n};\n/**\n * Set bloom intensity\n * @param {number} value\n */\n\n\nEffectCompositor.prototype.setBloomIntensity = function (value) {\n  this._compositeNode.setParameter('bloomIntensity', value);\n};\n\nEffectCompositor.prototype.setSSAOParameter = function (name, value) {\n  switch (name) {\n    case 'quality':\n      // PENDING\n      var kernelSize = {\n        low: 6,\n        medium: 12,\n        high: 32,\n        ultra: 62\n      }[value] || 12;\n\n      this._ssaoPass.setParameter('kernelSize', kernelSize);\n\n      break;\n\n    case 'radius':\n      this._ssaoPass.setParameter(name, value);\n\n      this._ssaoPass.setParameter('bias', value / 200);\n\n      break;\n\n    case 'intensity':\n      this._ssaoPass.setParameter(name, value);\n\n      break;\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Unkown SSAO parameter ' + name);\n      }\n\n  }\n};\n\nEffectCompositor.prototype.setDOFParameter = function (name, value) {\n  switch (name) {\n    case 'focalDistance':\n    case 'focalRange':\n    case 'fstop':\n      this._cocNode.setParameter(name, value);\n\n      break;\n\n    case 'blurRadius':\n      for (var i = 0; i < this._dofBlurNodes.length; i++) {\n        this._dofBlurNodes[i].setParameter('blurRadius', value);\n      }\n\n      break;\n\n    case 'quality':\n      var kernelSize = {\n        low: 4,\n        medium: 8,\n        high: 16,\n        ultra: 32\n      }[value] || 8;\n      this._dofBlurKernelSize = kernelSize;\n\n      for (var i = 0; i < this._dofBlurNodes.length; i++) {\n        this._dofBlurNodes[i].pass.material.define('POISSON_KERNEL_SIZE', kernelSize);\n      }\n\n      this._dofBlurKernel = new Float32Array(kernelSize * 2);\n      break;\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Unkown DOF parameter ' + name);\n      }\n\n  }\n};\n\nEffectCompositor.prototype.setSSRParameter = function (name, value) {\n  if (value == null) {\n    return;\n  }\n\n  switch (name) {\n    case 'quality':\n      // PENDING\n      var maxIteration = {\n        low: 10,\n        medium: 15,\n        high: 30,\n        ultra: 80\n      }[value] || 20;\n      var pixelStride = {\n        low: 32,\n        medium: 16,\n        high: 8,\n        ultra: 4\n      }[value] || 16;\n\n      this._ssrPass.setParameter('maxIteration', maxIteration);\n\n      this._ssrPass.setParameter('pixelStride', pixelStride);\n\n      break;\n\n    case 'maxRoughness':\n      this._ssrPass.setParameter('minGlossiness', Math.max(Math.min(1.0 - value, 1.0), 0.0));\n\n      break;\n\n    case 'physical':\n      this.setPhysicallyCorrectSSR(value);\n      break;\n\n    default:\n      console.warn('Unkown SSR parameter ' + name);\n  }\n};\n\nEffectCompositor.prototype.setPhysicallyCorrectSSR = function (physical) {\n  this._ssrPass.setPhysicallyCorrect(physical);\n};\n/**\n * Set color of edge\n */\n\n\nEffectCompositor.prototype.setEdgeColor = function (value) {\n  var color = graphicGL.parseColor(value);\n\n  this._edgePass.setParameter('edgeColor', color);\n};\n\nEffectCompositor.prototype.setExposure = function (value) {\n  this._compositeNode.setParameter('exposure', Math.pow(2, value));\n};\n\nEffectCompositor.prototype.setColorLookupTexture = function (image, api) {\n  this._compositeNode.pass.material.setTextureImage('lut', this._enableColorCorrection ? image : 'none', api, {\n    minFilter: graphicGL.Texture.NEAREST,\n    magFilter: graphicGL.Texture.NEAREST,\n    flipY: false\n  });\n};\n\nEffectCompositor.prototype.setColorCorrection = function (type, value) {\n  this._compositeNode.setParameter(type, value);\n};\n\nEffectCompositor.prototype.isSSREnabled = function () {\n  return this._enableSSR;\n};\n\nEffectCompositor.prototype.composite = function (renderer, scene, camera, framebuffer, frame) {\n  var sourceTexture = this._sourceTexture;\n  var targetTexture = sourceTexture;\n\n  if (this._enableEdge) {\n    this._edgePass.update(renderer, camera, sourceTexture, frame);\n\n    sourceTexture = targetTexture = this._edgePass.getTargetTexture();\n  }\n\n  if (this._enableSSR) {\n    this._ssrPass.update(renderer, camera, sourceTexture, frame);\n\n    targetTexture = this._ssrPass.getTargetTexture();\n\n    this._ssrPass.setSSAOTexture(this._enableSSAO ? this._ssaoPass.getTargetTexture() : null); // var lights = scene.getLights();\n    // for (var i = 0; i < lights.length; i++) {\n    //     if (lights[i].cubemap) {\n    //         this._ssrPass.setAmbientCubemap(lights[i].cubemap, lights[i].intensity);\n    //     }\n    // }\n\n  }\n\n  this._sourceNode.texture = targetTexture;\n\n  this._cocNode.setParameter('depth', this._depthTexture);\n\n  var blurKernel = this._dofBlurKernel;\n  var blurKernelSize = this._dofBlurKernelSize;\n  var frameAll = Math.floor(poissonKernel.length / 2 / blurKernelSize);\n  var kernelOffset = frame % frameAll;\n\n  for (var i = 0; i < blurKernelSize * 2; i++) {\n    blurKernel[i] = poissonKernel[i + kernelOffset * blurKernelSize * 2];\n  }\n\n  for (var i = 0; i < this._dofBlurNodes.length; i++) {\n    this._dofBlurNodes[i].setParameter('percent', frame / 30.0);\n\n    this._dofBlurNodes[i].setParameter('poissonKernel', blurKernel);\n  }\n\n  this._cocNode.setParameter('zNear', camera.near);\n\n  this._cocNode.setParameter('zFar', camera.far);\n\n  this._compositor.render(renderer, framebuffer);\n};\n\nEffectCompositor.prototype.dispose = function (renderer) {\n  this._sourceTexture.dispose(renderer);\n\n  this._depthTexture.dispose(renderer);\n\n  this._framebuffer.dispose(renderer);\n\n  this._compositor.dispose(renderer);\n\n  this._normalPass.dispose(renderer);\n\n  this._ssaoPass.dispose(renderer);\n};\n\nexport default EffectCompositor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}