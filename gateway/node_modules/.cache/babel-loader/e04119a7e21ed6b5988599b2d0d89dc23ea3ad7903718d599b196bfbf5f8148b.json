{"ast":null,"code":"import \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport vendor from '../core/vendor';\nimport Base from '../core/Base';\nvar SHADER_STATE_TO_ENABLE = 1;\nvar SHADER_STATE_KEEP_ENABLE = 2;\nvar SHADER_STATE_PENDING = 3;\n\n// Enable attribute operation is global to all programs\n// Here saved the list of all enabled attribute index\n// http://www.mjbshaw.com/2013/03/webgl-fixing-invalidoperation.html\nvar enabledAttributeList = {};\n\n// some util functions\nfunction addLineNumbers(string) {\n  var chunks = string.split('\\n');\n  for (var i = 0, il = chunks.length; i < il; i++) {\n    // Chrome reports shader errors on lines\n    // starting counting from 1\n    chunks[i] = i + 1 + ': ' + chunks[i];\n  }\n  return chunks.join('\\n');\n}\n\n// Return true or error msg if error happened\nfunction checkShaderErrorMsg(_gl, shader, shaderString) {\n  if (!_gl.getShaderParameter(shader, _gl.COMPILE_STATUS)) {\n    return [_gl.getShaderInfoLog(shader), addLineNumbers(shaderString)].join('\\n');\n  }\n}\nvar tmpFloat32Array16 = new vendor.Float32Array(16);\nvar GLProgram = Base.extend({\n  uniformSemantics: {},\n  attributes: {}\n}, function () {\n  this._locations = {};\n  this._textureSlot = 0;\n  this._program = null;\n}, {\n  bind: function (renderer) {\n    this._textureSlot = 0;\n    renderer.gl.useProgram(this._program);\n  },\n  hasUniform: function (symbol) {\n    var location = this._locations[symbol];\n    return location !== null && location !== undefined;\n  },\n  useTextureSlot: function (renderer, texture, slot) {\n    if (texture) {\n      renderer.gl.activeTexture(renderer.gl.TEXTURE0 + slot);\n      // Maybe texture is not loaded yet;\n      if (texture.isRenderable()) {\n        texture.bind(renderer);\n      } else {\n        // Bind texture to null\n        texture.unbind(renderer);\n      }\n    }\n  },\n  currentTextureSlot: function () {\n    return this._textureSlot;\n  },\n  resetTextureSlot: function (slot) {\n    this._textureSlot = slot || 0;\n  },\n  takeCurrentTextureSlot: function (renderer, texture) {\n    var textureSlot = this._textureSlot;\n    this.useTextureSlot(renderer, texture, textureSlot);\n    this._textureSlot++;\n    return textureSlot;\n  },\n  setUniform: function (_gl, type, symbol, value) {\n    var locationMap = this._locations;\n    var location = locationMap[symbol];\n    // Uniform is not existed in the shader\n    if (location === null || location === undefined) {\n      return false;\n    }\n    switch (type) {\n      case 'm4':\n        if (!(value instanceof Float32Array)) {\n          // Use Float32Array is much faster than array when uniformMatrix4fv.\n          for (var i = 0; i < value.length; i++) {\n            tmpFloat32Array16[i] = value[i];\n          }\n          value = tmpFloat32Array16;\n        }\n        _gl.uniformMatrix4fv(location, false, value);\n        break;\n      case '2i':\n        _gl.uniform2i(location, value[0], value[1]);\n        break;\n      case '2f':\n        _gl.uniform2f(location, value[0], value[1]);\n        break;\n      case '3i':\n        _gl.uniform3i(location, value[0], value[1], value[2]);\n        break;\n      case '3f':\n        _gl.uniform3f(location, value[0], value[1], value[2]);\n        break;\n      case '4i':\n        _gl.uniform4i(location, value[0], value[1], value[2], value[3]);\n        break;\n      case '4f':\n        _gl.uniform4f(location, value[0], value[1], value[2], value[3]);\n        break;\n      case '1i':\n        _gl.uniform1i(location, value);\n        break;\n      case '1f':\n        _gl.uniform1f(location, value);\n        break;\n      case '1fv':\n        _gl.uniform1fv(location, value);\n        break;\n      case '1iv':\n        _gl.uniform1iv(location, value);\n        break;\n      case '2iv':\n        _gl.uniform2iv(location, value);\n        break;\n      case '2fv':\n        _gl.uniform2fv(location, value);\n        break;\n      case '3iv':\n        _gl.uniform3iv(location, value);\n        break;\n      case '3fv':\n        _gl.uniform3fv(location, value);\n        break;\n      case '4iv':\n        _gl.uniform4iv(location, value);\n        break;\n      case '4fv':\n        _gl.uniform4fv(location, value);\n        break;\n      case 'm2':\n      case 'm2v':\n        _gl.uniformMatrix2fv(location, false, value);\n        break;\n      case 'm3':\n      case 'm3v':\n        _gl.uniformMatrix3fv(location, false, value);\n        break;\n      case 'm4v':\n        // Raw value\n        if (Array.isArray(value) && Array.isArray(value[0])) {\n          var array = new vendor.Float32Array(value.length * 16);\n          var cursor = 0;\n          for (var i = 0; i < value.length; i++) {\n            var item = value[i];\n            for (var j = 0; j < 16; j++) {\n              array[cursor++] = item[j];\n            }\n          }\n          _gl.uniformMatrix4fv(location, false, array);\n        } else {\n          // ArrayBufferView\n          _gl.uniformMatrix4fv(location, false, value);\n        }\n        break;\n    }\n    return true;\n  },\n  setUniformOfSemantic: function (_gl, semantic, val) {\n    var semanticInfo = this.uniformSemantics[semantic];\n    if (semanticInfo) {\n      return this.setUniform(_gl, semanticInfo.type, semanticInfo.symbol, val);\n    }\n    return false;\n  },\n  // Used for creating VAO\n  // Enable the attributes passed in and disable the rest\n  // Example Usage:\n  // enableAttributes(renderer, [\"position\", \"texcoords\"])\n  enableAttributes: function (renderer, attribList, vao) {\n    var _gl = renderer.gl;\n    var program = this._program;\n    var locationMap = this._locations;\n    var enabledAttributeListInContext;\n    if (vao) {\n      enabledAttributeListInContext = vao.__enabledAttributeList;\n    } else {\n      enabledAttributeListInContext = enabledAttributeList[renderer.__uid__];\n    }\n    if (!enabledAttributeListInContext) {\n      // In vertex array object context\n      // PENDING Each vao object needs to enable attributes again?\n      if (vao) {\n        enabledAttributeListInContext = vao.__enabledAttributeList = [];\n      } else {\n        enabledAttributeListInContext = enabledAttributeList[renderer.__uid__] = [];\n      }\n    }\n    var locationList = [];\n    for (var i = 0; i < attribList.length; i++) {\n      var symbol = attribList[i];\n      if (!this.attributes[symbol]) {\n        locationList[i] = -1;\n        continue;\n      }\n      var location = locationMap[symbol];\n      if (location == null) {\n        location = _gl.getAttribLocation(program, symbol);\n        // Attrib location is a number from 0 to ...\n        if (location === -1) {\n          locationList[i] = -1;\n          continue;\n        }\n        locationMap[symbol] = location;\n      }\n      locationList[i] = location;\n      if (!enabledAttributeListInContext[location]) {\n        enabledAttributeListInContext[location] = SHADER_STATE_TO_ENABLE;\n      } else {\n        enabledAttributeListInContext[location] = SHADER_STATE_KEEP_ENABLE;\n      }\n    }\n    for (var i = 0; i < enabledAttributeListInContext.length; i++) {\n      switch (enabledAttributeListInContext[i]) {\n        case SHADER_STATE_TO_ENABLE:\n          _gl.enableVertexAttribArray(i);\n          enabledAttributeListInContext[i] = SHADER_STATE_PENDING;\n          break;\n        case SHADER_STATE_KEEP_ENABLE:\n          enabledAttributeListInContext[i] = SHADER_STATE_PENDING;\n          break;\n        // Expired\n        case SHADER_STATE_PENDING:\n          _gl.disableVertexAttribArray(i);\n          enabledAttributeListInContext[i] = 0;\n          break;\n      }\n    }\n    return locationList;\n  },\n  getAttribLocation: function (_gl, symbol) {\n    var locationMap = this._locations;\n    var location = locationMap[symbol];\n    if (location == null) {\n      location = _gl.getAttribLocation(this._program, symbol);\n      locationMap[symbol] = location;\n    }\n    return location;\n  },\n  buildProgram: function (_gl, shader, vertexShaderCode, fragmentShaderCode) {\n    var vertexShader = _gl.createShader(_gl.VERTEX_SHADER);\n    var program = _gl.createProgram();\n    _gl.shaderSource(vertexShader, vertexShaderCode);\n    _gl.compileShader(vertexShader);\n    var fragmentShader = _gl.createShader(_gl.FRAGMENT_SHADER);\n    _gl.shaderSource(fragmentShader, fragmentShaderCode);\n    _gl.compileShader(fragmentShader);\n    var msg = checkShaderErrorMsg(_gl, vertexShader, vertexShaderCode);\n    if (msg) {\n      return msg;\n    }\n    msg = checkShaderErrorMsg(_gl, fragmentShader, fragmentShaderCode);\n    if (msg) {\n      return msg;\n    }\n    _gl.attachShader(program, vertexShader);\n    _gl.attachShader(program, fragmentShader);\n    // Force the position bind to location 0;\n    if (shader.attributeSemantics['POSITION']) {\n      _gl.bindAttribLocation(program, 0, shader.attributeSemantics['POSITION'].symbol);\n    } else {\n      // Else choose an attribute and bind to location 0;\n      var keys = Object.keys(this.attributes);\n      _gl.bindAttribLocation(program, 0, keys[0]);\n    }\n    _gl.linkProgram(program);\n    _gl.deleteShader(vertexShader);\n    _gl.deleteShader(fragmentShader);\n    this._program = program;\n\n    // Save code.\n    this.vertexCode = vertexShaderCode;\n    this.fragmentCode = fragmentShaderCode;\n    if (!_gl.getProgramParameter(program, _gl.LINK_STATUS)) {\n      return 'Could not link program\\n' + _gl.getProgramInfoLog(program);\n    }\n\n    // Cache uniform locations\n    for (var i = 0; i < shader.uniforms.length; i++) {\n      var uniformSymbol = shader.uniforms[i];\n      this._locations[uniformSymbol] = _gl.getUniformLocation(program, uniformSymbol);\n    }\n  }\n});\nexport default GLProgram;","map":{"version":3,"names":["vendor","Base","SHADER_STATE_TO_ENABLE","SHADER_STATE_KEEP_ENABLE","SHADER_STATE_PENDING","enabledAttributeList","addLineNumbers","string","chunks","split","i","il","length","join","checkShaderErrorMsg","_gl","shader","shaderString","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","tmpFloat32Array16","Float32Array","GLProgram","extend","uniformSemantics","attributes","_locations","_textureSlot","_program","bind","renderer","gl","useProgram","hasUniform","symbol","location","undefined","useTextureSlot","texture","slot","activeTexture","TEXTURE0","isRenderable","unbind","currentTextureSlot","resetTextureSlot","takeCurrentTextureSlot","textureSlot","setUniform","type","value","locationMap","uniformMatrix4fv","uniform2i","uniform2f","uniform3i","uniform3f","uniform4i","uniform4f","uniform1i","uniform1f","uniform1fv","uniform1iv","uniform2iv","uniform2fv","uniform3iv","uniform3fv","uniform4iv","uniform4fv","uniformMatrix2fv","uniformMatrix3fv","Array","isArray","array","cursor","item","j","setUniformOfSemantic","semantic","val","semanticInfo","enableAttributes","attribList","vao","program","enabledAttributeListInContext","__enabledAttributeList","__uid__","locationList","getAttribLocation","enableVertexAttribArray","disableVertexAttribArray","buildProgram","vertexShaderCode","fragmentShaderCode","vertexShader","createShader","VERTEX_SHADER","createProgram","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","msg","attachShader","attributeSemantics","bindAttribLocation","keys","Object","linkProgram","deleteShader","vertexCode","fragmentCode","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniforms","uniformSymbol","getUniformLocation"],"sources":["E:/QuestionairePlanet_Fronted/mytest/node_modules/claygl/src/gpu/GLProgram.js"],"sourcesContent":["import vendor from '../core/vendor';\nimport Base from '../core/Base';\n\nvar SHADER_STATE_TO_ENABLE = 1;\nvar SHADER_STATE_KEEP_ENABLE = 2;\nvar SHADER_STATE_PENDING = 3;\n\n// Enable attribute operation is global to all programs\n// Here saved the list of all enabled attribute index\n// http://www.mjbshaw.com/2013/03/webgl-fixing-invalidoperation.html\nvar enabledAttributeList = {};\n\n// some util functions\nfunction addLineNumbers(string) {\n    var chunks = string.split('\\n');\n    for (var i = 0, il = chunks.length; i < il; i ++) {\n        // Chrome reports shader errors on lines\n        // starting counting from 1\n        chunks[i] = (i + 1) + ': ' + chunks[i];\n    }\n    return chunks.join('\\n');\n}\n\n// Return true or error msg if error happened\nfunction checkShaderErrorMsg(_gl, shader, shaderString) {\n    if (!_gl.getShaderParameter(shader, _gl.COMPILE_STATUS)) {\n        return [_gl.getShaderInfoLog(shader), addLineNumbers(shaderString)].join('\\n');\n    }\n}\n\nvar tmpFloat32Array16 = new vendor.Float32Array(16);\n\nvar GLProgram = Base.extend({\n\n    uniformSemantics: {},\n    attributes: {}\n\n}, function () {\n    this._locations = {};\n\n    this._textureSlot = 0;\n\n    this._program = null;\n}, {\n\n    bind: function (renderer) {\n        this._textureSlot = 0;\n        renderer.gl.useProgram(this._program);\n    },\n\n    hasUniform: function (symbol) {\n        var location = this._locations[symbol];\n        return location !== null && location !== undefined;\n    },\n\n    useTextureSlot: function (renderer, texture, slot) {\n        if (texture) {\n            renderer.gl.activeTexture(renderer.gl.TEXTURE0 + slot);\n            // Maybe texture is not loaded yet;\n            if (texture.isRenderable()) {\n                texture.bind(renderer);\n            }\n            else {\n                // Bind texture to null\n                texture.unbind(renderer);\n            }\n        }\n    },\n\n    currentTextureSlot: function () {\n        return this._textureSlot;\n    },\n\n    resetTextureSlot: function (slot) {\n        this._textureSlot = slot || 0;\n    },\n\n    takeCurrentTextureSlot: function (renderer, texture) {\n        var textureSlot = this._textureSlot;\n\n        this.useTextureSlot(renderer, texture, textureSlot);\n\n        this._textureSlot++;\n\n        return textureSlot;\n    },\n\n    setUniform: function (_gl, type, symbol, value) {\n        var locationMap = this._locations;\n        var location = locationMap[symbol];\n        // Uniform is not existed in the shader\n        if (location === null || location === undefined) {\n            return false;\n        }\n\n        switch (type) {\n            case 'm4':\n                if (!(value instanceof Float32Array)) {\n                    // Use Float32Array is much faster than array when uniformMatrix4fv.\n                    for (var i = 0; i < value.length; i++) {\n                        tmpFloat32Array16[i] = value[i];\n                    }\n                    value = tmpFloat32Array16;\n                }\n                _gl.uniformMatrix4fv(location, false, value);\n                break;\n            case '2i':\n                _gl.uniform2i(location, value[0], value[1]);\n                break;\n            case '2f':\n                _gl.uniform2f(location, value[0], value[1]);\n                break;\n            case '3i':\n                _gl.uniform3i(location, value[0], value[1], value[2]);\n                break;\n            case '3f':\n                _gl.uniform3f(location, value[0], value[1], value[2]);\n                break;\n            case '4i':\n                _gl.uniform4i(location, value[0], value[1], value[2], value[3]);\n                break;\n            case '4f':\n                _gl.uniform4f(location, value[0], value[1], value[2], value[3]);\n                break;\n            case '1i':\n                _gl.uniform1i(location, value);\n                break;\n            case '1f':\n                _gl.uniform1f(location, value);\n                break;\n            case '1fv':\n                _gl.uniform1fv(location, value);\n                break;\n            case '1iv':\n                _gl.uniform1iv(location, value);\n                break;\n            case '2iv':\n                _gl.uniform2iv(location, value);\n                break;\n            case '2fv':\n                _gl.uniform2fv(location, value);\n                break;\n            case '3iv':\n                _gl.uniform3iv(location, value);\n                break;\n            case '3fv':\n                _gl.uniform3fv(location, value);\n                break;\n            case '4iv':\n                _gl.uniform4iv(location, value);\n                break;\n            case '4fv':\n                _gl.uniform4fv(location, value);\n                break;\n            case 'm2':\n            case 'm2v':\n                _gl.uniformMatrix2fv(location, false, value);\n                break;\n            case 'm3':\n            case 'm3v':\n                _gl.uniformMatrix3fv(location, false, value);\n                break;\n            case 'm4v':\n                // Raw value\n                if (Array.isArray(value) && Array.isArray(value[0])) {\n                    var array = new vendor.Float32Array(value.length * 16);\n                    var cursor = 0;\n                    for (var i = 0; i < value.length; i++) {\n                        var item = value[i];\n                        for (var j = 0; j < 16; j++) {\n                            array[cursor++] = item[j];\n                        }\n                    }\n                    _gl.uniformMatrix4fv(location, false, array);\n                }\n                else {   // ArrayBufferView\n                    _gl.uniformMatrix4fv(location, false, value);\n                }\n                break;\n        }\n        return true;\n    },\n\n    setUniformOfSemantic: function (_gl, semantic, val) {\n        var semanticInfo = this.uniformSemantics[semantic];\n        if (semanticInfo) {\n            return this.setUniform(_gl, semanticInfo.type, semanticInfo.symbol, val);\n        }\n        return false;\n    },\n\n    // Used for creating VAO\n    // Enable the attributes passed in and disable the rest\n    // Example Usage:\n    // enableAttributes(renderer, [\"position\", \"texcoords\"])\n    enableAttributes: function (renderer, attribList, vao) {\n        var _gl = renderer.gl;\n        var program = this._program;\n\n        var locationMap = this._locations;\n\n        var enabledAttributeListInContext;\n        if (vao) {\n            enabledAttributeListInContext = vao.__enabledAttributeList;\n        }\n        else {\n            enabledAttributeListInContext = enabledAttributeList[renderer.__uid__];\n        }\n        if (!enabledAttributeListInContext) {\n            // In vertex array object context\n            // PENDING Each vao object needs to enable attributes again?\n            if (vao) {\n                enabledAttributeListInContext\n                    = vao.__enabledAttributeList\n                    = [];\n            }\n            else {\n                enabledAttributeListInContext\n                    = enabledAttributeList[renderer.__uid__]\n                    = [];\n            }\n        }\n        var locationList = [];\n        for (var i = 0; i < attribList.length; i++) {\n            var symbol = attribList[i];\n            if (!this.attributes[symbol]) {\n                locationList[i] = -1;\n                continue;\n            }\n            var location = locationMap[symbol];\n            if (location == null) {\n                location = _gl.getAttribLocation(program, symbol);\n                // Attrib location is a number from 0 to ...\n                if (location === -1) {\n                    locationList[i] = -1;\n                    continue;\n                }\n                locationMap[symbol] = location;\n            }\n            locationList[i] = location;\n\n            if (!enabledAttributeListInContext[location]) {\n                enabledAttributeListInContext[location] = SHADER_STATE_TO_ENABLE;\n            }\n            else {\n                enabledAttributeListInContext[location] = SHADER_STATE_KEEP_ENABLE;\n            }\n        }\n\n        for (var i = 0; i < enabledAttributeListInContext.length; i++) {\n            switch(enabledAttributeListInContext[i]){\n                case SHADER_STATE_TO_ENABLE:\n                    _gl.enableVertexAttribArray(i);\n                    enabledAttributeListInContext[i] = SHADER_STATE_PENDING;\n                    break;\n                case SHADER_STATE_KEEP_ENABLE:\n                    enabledAttributeListInContext[i] = SHADER_STATE_PENDING;\n                    break;\n                // Expired\n                case SHADER_STATE_PENDING:\n                    _gl.disableVertexAttribArray(i);\n                    enabledAttributeListInContext[i] = 0;\n                    break;\n            }\n        }\n\n        return locationList;\n    },\n\n    getAttribLocation: function (_gl, symbol) {\n        var locationMap = this._locations;\n\n        var location = locationMap[symbol];\n        if (location == null) {\n            location = _gl.getAttribLocation(this._program, symbol);\n            locationMap[symbol] = location;\n        }\n\n        return location;\n    },\n\n    buildProgram: function (_gl, shader, vertexShaderCode, fragmentShaderCode) {\n        var vertexShader = _gl.createShader(_gl.VERTEX_SHADER);\n        var program = _gl.createProgram();\n\n        _gl.shaderSource(vertexShader, vertexShaderCode);\n        _gl.compileShader(vertexShader);\n\n        var fragmentShader = _gl.createShader(_gl.FRAGMENT_SHADER);\n        _gl.shaderSource(fragmentShader, fragmentShaderCode);\n        _gl.compileShader(fragmentShader);\n\n        var msg = checkShaderErrorMsg(_gl, vertexShader, vertexShaderCode);\n        if (msg) {\n            return msg;\n        }\n        msg = checkShaderErrorMsg(_gl, fragmentShader, fragmentShaderCode);\n        if (msg) {\n            return msg;\n        }\n\n        _gl.attachShader(program, vertexShader);\n        _gl.attachShader(program, fragmentShader);\n        // Force the position bind to location 0;\n        if (shader.attributeSemantics['POSITION']) {\n            _gl.bindAttribLocation(program, 0, shader.attributeSemantics['POSITION'].symbol);\n        }\n        else {\n            // Else choose an attribute and bind to location 0;\n            var keys = Object.keys(this.attributes);\n            _gl.bindAttribLocation(program, 0, keys[0]);\n        }\n\n        _gl.linkProgram(program);\n\n        _gl.deleteShader(vertexShader);\n        _gl.deleteShader(fragmentShader);\n\n        this._program = program;\n\n        // Save code.\n        this.vertexCode = vertexShaderCode;\n        this.fragmentCode = fragmentShaderCode;\n\n        if (!_gl.getProgramParameter(program, _gl.LINK_STATUS)) {\n            return 'Could not link program\\n' + _gl.getProgramInfoLog(program);\n        }\n\n        // Cache uniform locations\n        for (var i = 0; i < shader.uniforms.length; i++) {\n            var uniformSymbol = shader.uniforms[i];\n            this._locations[uniformSymbol] = _gl.getUniformLocation(program, uniformSymbol);\n        }\n\n    }\n});\n\nexport default GLProgram;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}