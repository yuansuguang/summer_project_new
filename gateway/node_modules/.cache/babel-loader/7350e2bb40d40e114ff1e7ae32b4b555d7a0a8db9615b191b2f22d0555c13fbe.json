{"ast":null,"code":"import LinkedList from './LinkedList';\n\n/**\n * LRU Cache\n * @constructor\n * @alias clay.core.LRU\n */\nvar LRU = function (maxSize) {\n  this._list = new LinkedList();\n  this._map = {};\n  this._maxSize = maxSize || 10;\n};\n\n/**\n * Set cache max size\n * @param {number} size\n */\nLRU.prototype.setMaxSize = function (size) {\n  this._maxSize = size;\n};\n\n/**\n * @param  {string} key\n * @param  {} value\n */\nLRU.prototype.put = function (key, value) {\n  if (!this._map.hasOwnProperty(key)) {\n    var len = this._list.length();\n    if (len >= this._maxSize && len > 0) {\n      // Remove the least recently used\n      var leastUsedEntry = this._list.head;\n      this._list.remove(leastUsedEntry);\n      delete this._map[leastUsedEntry.key];\n    }\n    var entry = this._list.insert(value);\n    entry.key = key;\n    this._map[key] = entry;\n  }\n};\n\n/**\n * @param  {string} key\n * @return {}\n */\nLRU.prototype.get = function (key) {\n  var entry = this._map[key];\n  if (this._map.hasOwnProperty(key)) {\n    // Put the latest used entry in the tail\n    if (entry !== this._list.tail) {\n      this._list.remove(entry);\n      this._list.insertEntry(entry);\n    }\n    return entry.value;\n  }\n};\n\n/**\n * @param {string} key\n */\nLRU.prototype.remove = function (key) {\n  var entry = this._map[key];\n  if (typeof entry !== 'undefined') {\n    delete this._map[key];\n    this._list.remove(entry);\n  }\n};\n\n/**\n * Clear the cache\n */\nLRU.prototype.clear = function () {\n  this._list.clear();\n  this._map = {};\n};\nexport default LRU;","map":{"version":3,"names":["LinkedList","LRU","maxSize","_list","_map","_maxSize","prototype","setMaxSize","size","put","key","value","hasOwnProperty","len","length","leastUsedEntry","head","remove","entry","insert","get","tail","insertEntry","clear"],"sources":["E:/QuestionairePlanet_Fronted/mytest/node_modules/claygl/src/core/LRU.js"],"sourcesContent":["import LinkedList from './LinkedList';\n\n/**\n * LRU Cache\n * @constructor\n * @alias clay.core.LRU\n */\nvar LRU = function (maxSize) {\n\n    this._list = new LinkedList();\n\n    this._map = {};\n\n    this._maxSize = maxSize || 10;\n};\n\n/**\n * Set cache max size\n * @param {number} size\n */\nLRU.prototype.setMaxSize = function (size) {\n    this._maxSize = size;\n};\n\n/**\n * @param  {string} key\n * @param  {} value\n */\nLRU.prototype.put = function (key, value) {\n    if (!this._map.hasOwnProperty(key)) {\n        var len = this._list.length();\n        if (len >= this._maxSize && len > 0) {\n            // Remove the least recently used\n            var leastUsedEntry = this._list.head;\n            this._list.remove(leastUsedEntry);\n            delete this._map[leastUsedEntry.key];\n        }\n\n        var entry = this._list.insert(value);\n        entry.key = key;\n        this._map[key] = entry;\n    }\n};\n\n/**\n * @param  {string} key\n * @return {}\n */\nLRU.prototype.get = function (key) {\n    var entry = this._map[key];\n    if (this._map.hasOwnProperty(key)) {\n        // Put the latest used entry in the tail\n        if (entry !== this._list.tail) {\n            this._list.remove(entry);\n            this._list.insertEntry(entry);\n        }\n\n        return entry.value;\n    }\n};\n\n/**\n * @param {string} key\n */\nLRU.prototype.remove = function (key) {\n    var entry = this._map[key];\n    if (typeof(entry) !== 'undefined') {\n        delete this._map[key];\n        this._list.remove(entry);\n    }\n};\n\n/**\n * Clear the cache\n */\nLRU.prototype.clear = function () {\n    this._list.clear();\n    this._map = {};\n};\n\nexport default LRU;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,cAAc;;AAErC;AACA;AACA;AACA;AACA;AACA,IAAIC,GAAG,GAAG,SAAAA,CAAUC,OAAO,EAAE;EAEzB,IAAI,CAACC,KAAK,GAAG,IAAIH,UAAU,CAAC,CAAC;EAE7B,IAAI,CAACI,IAAI,GAAG,CAAC,CAAC;EAEd,IAAI,CAACC,QAAQ,GAAGH,OAAO,IAAI,EAAE;AACjC,CAAC;;AAED;AACA;AACA;AACA;AACAD,GAAG,CAACK,SAAS,CAACC,UAAU,GAAG,UAAUC,IAAI,EAAE;EACvC,IAAI,CAACH,QAAQ,GAAGG,IAAI;AACxB,CAAC;;AAED;AACA;AACA;AACA;AACAP,GAAG,CAACK,SAAS,CAACG,GAAG,GAAG,UAAUC,GAAG,EAAEC,KAAK,EAAE;EACtC,IAAI,CAAC,IAAI,CAACP,IAAI,CAACQ,cAAc,CAACF,GAAG,CAAC,EAAE;IAChC,IAAIG,GAAG,GAAG,IAAI,CAACV,KAAK,CAACW,MAAM,CAAC,CAAC;IAC7B,IAAID,GAAG,IAAI,IAAI,CAACR,QAAQ,IAAIQ,GAAG,GAAG,CAAC,EAAE;MACjC;MACA,IAAIE,cAAc,GAAG,IAAI,CAACZ,KAAK,CAACa,IAAI;MACpC,IAAI,CAACb,KAAK,CAACc,MAAM,CAACF,cAAc,CAAC;MACjC,OAAO,IAAI,CAACX,IAAI,CAACW,cAAc,CAACL,GAAG,CAAC;IACxC;IAEA,IAAIQ,KAAK,GAAG,IAAI,CAACf,KAAK,CAACgB,MAAM,CAACR,KAAK,CAAC;IACpCO,KAAK,CAACR,GAAG,GAAGA,GAAG;IACf,IAAI,CAACN,IAAI,CAACM,GAAG,CAAC,GAAGQ,KAAK;EAC1B;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACAjB,GAAG,CAACK,SAAS,CAACc,GAAG,GAAG,UAAUV,GAAG,EAAE;EAC/B,IAAIQ,KAAK,GAAG,IAAI,CAACd,IAAI,CAACM,GAAG,CAAC;EAC1B,IAAI,IAAI,CAACN,IAAI,CAACQ,cAAc,CAACF,GAAG,CAAC,EAAE;IAC/B;IACA,IAAIQ,KAAK,KAAK,IAAI,CAACf,KAAK,CAACkB,IAAI,EAAE;MAC3B,IAAI,CAAClB,KAAK,CAACc,MAAM,CAACC,KAAK,CAAC;MACxB,IAAI,CAACf,KAAK,CAACmB,WAAW,CAACJ,KAAK,CAAC;IACjC;IAEA,OAAOA,KAAK,CAACP,KAAK;EACtB;AACJ,CAAC;;AAED;AACA;AACA;AACAV,GAAG,CAACK,SAAS,CAACW,MAAM,GAAG,UAAUP,GAAG,EAAE;EAClC,IAAIQ,KAAK,GAAG,IAAI,CAACd,IAAI,CAACM,GAAG,CAAC;EAC1B,IAAI,OAAOQ,KAAM,KAAK,WAAW,EAAE;IAC/B,OAAO,IAAI,CAACd,IAAI,CAACM,GAAG,CAAC;IACrB,IAAI,CAACP,KAAK,CAACc,MAAM,CAACC,KAAK,CAAC;EAC5B;AACJ,CAAC;;AAED;AACA;AACA;AACAjB,GAAG,CAACK,SAAS,CAACiB,KAAK,GAAG,YAAY;EAC9B,IAAI,CAACpB,KAAK,CAACoB,KAAK,CAAC,CAAC;EAClB,IAAI,CAACnB,IAAI,GAAG,CAAC,CAAC;AAClB,CAAC;AAED,eAAeH,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}