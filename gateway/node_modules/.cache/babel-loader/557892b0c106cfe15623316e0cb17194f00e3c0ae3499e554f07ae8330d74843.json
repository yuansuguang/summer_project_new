{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Animator from 'zrender/lib/animation/Animator';\nvar animatableMixin = {\n  _animators: null,\n  getAnimators: function () {\n    this._animators = this._animators || [];\n    return this._animators;\n  },\n  animate: function (path, opts) {\n    this._animators = this._animators || [];\n    var el = this;\n    var target;\n    if (path) {\n      var pathSplitted = path.split('.');\n      var prop = el;\n      for (var i = 0, l = pathSplitted.length; i < l; i++) {\n        if (!prop) {\n          continue;\n        }\n        prop = prop[pathSplitted[i]];\n      }\n      if (prop) {\n        target = prop;\n      }\n    } else {\n      target = el;\n    }\n    if (target == null) {\n      throw new Error('Target ' + path + ' not exists');\n    }\n    var animators = this._animators;\n    var animator = new Animator(target, opts);\n    var self = this;\n    animator.during(function () {\n      if (self.__zr) {\n        self.__zr.refresh();\n      }\n    }).done(function () {\n      var idx = animators.indexOf(animator);\n      if (idx >= 0) {\n        animators.splice(idx, 1);\n      }\n    });\n    animators.push(animator);\n    if (this.__zr) {\n      this.__zr.animation.addAnimator(animator);\n    }\n    return animator;\n  },\n  stopAnimation: function (forwardToLast) {\n    this._animators = this._animators || [];\n    var animators = this._animators;\n    var len = animators.length;\n    for (var i = 0; i < len; i++) {\n      animators[i].stop(forwardToLast);\n    }\n    animators.length = 0;\n    return this;\n  },\n  addAnimatorsToZr: function (zr) {\n    if (this._animators) {\n      for (var i = 0; i < this._animators.length; i++) {\n        zr.animation.addAnimator(this._animators[i]);\n      }\n    }\n  },\n  removeAnimatorsFromZr: function (zr) {\n    if (this._animators) {\n      for (var i = 0; i < this._animators.length; i++) {\n        zr.animation.removeAnimator(this._animators[i]);\n      }\n    }\n  }\n};\nexport default animatableMixin;","map":{"version":3,"names":["Animator","animatableMixin","_animators","getAnimators","animate","path","opts","el","target","pathSplitted","split","prop","i","l","length","Error","animators","animator","self","during","__zr","refresh","done","idx","indexOf","splice","push","animation","addAnimator","stopAnimation","forwardToLast","len","stop","addAnimatorsToZr","zr","removeAnimatorsFromZr","removeAnimator"],"sources":["E:/mytest/node_modules/echarts-gl/lib/util/animatableMixin.js"],"sourcesContent":["import Animator from 'zrender/lib/animation/Animator';\nvar animatableMixin = {\n  _animators: null,\n  getAnimators: function () {\n    this._animators = this._animators || [];\n    return this._animators;\n  },\n  animate: function (path, opts) {\n    this._animators = this._animators || [];\n    var el = this;\n    var target;\n\n    if (path) {\n      var pathSplitted = path.split('.');\n      var prop = el;\n\n      for (var i = 0, l = pathSplitted.length; i < l; i++) {\n        if (!prop) {\n          continue;\n        }\n\n        prop = prop[pathSplitted[i]];\n      }\n\n      if (prop) {\n        target = prop;\n      }\n    } else {\n      target = el;\n    }\n\n    if (target == null) {\n      throw new Error('Target ' + path + ' not exists');\n    }\n\n    var animators = this._animators;\n    var animator = new Animator(target, opts);\n    var self = this;\n    animator.during(function () {\n      if (self.__zr) {\n        self.__zr.refresh();\n      }\n    }).done(function () {\n      var idx = animators.indexOf(animator);\n\n      if (idx >= 0) {\n        animators.splice(idx, 1);\n      }\n    });\n    animators.push(animator);\n\n    if (this.__zr) {\n      this.__zr.animation.addAnimator(animator);\n    }\n\n    return animator;\n  },\n  stopAnimation: function (forwardToLast) {\n    this._animators = this._animators || [];\n    var animators = this._animators;\n    var len = animators.length;\n\n    for (var i = 0; i < len; i++) {\n      animators[i].stop(forwardToLast);\n    }\n\n    animators.length = 0;\n    return this;\n  },\n  addAnimatorsToZr: function (zr) {\n    if (this._animators) {\n      for (var i = 0; i < this._animators.length; i++) {\n        zr.animation.addAnimator(this._animators[i]);\n      }\n    }\n  },\n  removeAnimatorsFromZr: function (zr) {\n    if (this._animators) {\n      for (var i = 0; i < this._animators.length; i++) {\n        zr.animation.removeAnimator(this._animators[i]);\n      }\n    }\n  }\n};\nexport default animatableMixin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}