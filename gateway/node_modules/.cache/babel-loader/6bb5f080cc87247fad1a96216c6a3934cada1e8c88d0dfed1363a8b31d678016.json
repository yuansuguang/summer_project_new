{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport user from \"@/storage/user\";\nexport default {\n  name: \"createQue\",\n  data() {\n    return {\n      isHoverSurvey: false,\n      isHoverTest: false,\n      isHoverForm: false,\n      isHoverVote: false,\n      isHoverPunch: false,\n      dialogVisible: false,\n      quesType: 1,\n      surveyTitle: \"\"\n    };\n  },\n  methods: {\n    createSurvey(tag) {\n      var formData = new FormData();\n      const userInfo = user.getters.getUser(user.state());\n      console.log(userInfo);\n      // formData.append(\"username\", userInfo.user.username);\n      formData.append(\"title\", this.surveyTitle);\n      formData.append(\"description\", \"\");\n      console.log(userInfo.user.username);\n      var editUrlName = '';\n      switch (tag) {\n        case 1:\n          formData.append(\"type\", \"1\");\n          editUrlName = 'questionaireEdit';\n          break;\n        case 2:\n          formData.append(\"type\", \"3\");\n          editUrlName = 'questionaireTest';\n          break;\n        case 3:\n          formData.append(\"type\", \"2\");\n          editUrlName = 'questionaireVote';\n          break;\n        case 4:\n          formData.append(\"type\", \"4\");\n          editUrlName = 'SignUpForm';\n          break;\n        case 5:\n          formData.append(\"type\", \"5\");\n          editUrlName = 'EditHate';\n          break;\n      }\n      console.log(formData);\n      this.$axios({\n        method: 'post',\n        url: '/surveymanage/api/createsurvey',\n        data: formData\n      }).then(res => {\n        switch (res.data.status_code) {\n          case 1:\n            var surveyId = res.data.survey_id;\n            this.$router.push({\n              name: editUrlName,\n              query: {\n                pid: surveyId\n              }\n            });\n            break;\n          case 2:\n            this.$message.warning(\"form invalid\");\n            break;\n          default:\n            this.$message.error(\"操作失败！\");\n            console.log(res.data.status_code);\n            break;\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    createVoteQn() {\n      this.$router.push('/questionaireVote');\n    },\n    createTestQn() {\n      this.$router.push('/questionaireTest');\n    },\n    create1() {\n      this.dialogVisible = true;\n      this.quesType = 1;\n    }\n  }\n};","map":{"version":3,"names":["user","name","data","isHoverSurvey","isHoverTest","isHoverForm","isHoverVote","isHoverPunch","dialogVisible","quesType","surveyTitle","methods","createSurvey","tag","formData","FormData","userInfo","getters","getUser","state","console","log","append","username","editUrlName","$axios","method","url","then","res","status_code","surveyId","survey_id","$router","push","query","pid","$message","warning","error","catch","err","createVoteQn","createTestQn","create1"],"sources":["E:\\mytest\\src\\views\\qn-createpane\\qnCreate.vue"],"sourcesContent":["<template v-slot:footer>\r\n    <div class=\"create-que\">\r\n        <el-row class=\"type-choose\">\r\n          <el-col :span=\"5\" offset=\"0\">\r\n            <el-card class=\"box-card\" @mouseover=\"isHoverSurvey=true\" @mouseout=\"isHoverSurvey=false\" >\r\n              <div style=\"display: table-cell;text-align: center\"><img class=\"image\" src=\"../../assets/images/qnCreateInvestigation.png\" alt=\"investigation_img\"></div>\r\n              <span ><h3>空白问卷</h3></span>\r\n              <div v-if=\"isHoverSurvey\">\r\n                <el-button type=\"primary\" @click=\"create1\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row>&emsp;&emsp;提供最大创建自由</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-card class=\"box-card\"  @mouseover=\"isHoverTest=true\" @mouseout=\"isHoverTest=false\">\r\n              <img class=\"image\" src=\"../../assets/images/qnCreateExam.png\" alt=\"exam_img\">\r\n              <span><h3>考试问卷</h3></span>\r\n              <div v-if=\"isHoverTest\">\r\n                <el-button type=\"danger\" @click=\"createTestQn()\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row>&emsp;&emsp;设定题目和答案</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-card class=\"box-card\" @mouseover=\"isHoverVote=true\" @mouseout=\"isHoverVote=false\">\r\n              <img class=\"image\" src=\"../../assets/images/qnCreateVote.png\" alt=\"vote_img\">\r\n              <span ><h3>投票问卷</h3></span>\r\n              <div v-if=\"isHoverVote\">\r\n                <el-button type=\"warning\" @click=\"createVoteQn()\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row >汇集意见，群体决策选择</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-card class=\"box-card\" @mouseover=\"isHoverPunch=true\" @mouseout=\"isHoverPunch=false\">\r\n              <img class=\"image\" src=\"../../assets/images/qnCreateCheckin.png\" alt=\"checkin_img\">\r\n              <span ><h3>报名问卷</h3></span>\r\n              <div v-if=\"isHoverPunch\">\r\n                <el-button type=\"success\" @click=\"createBlankQn()\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row>活动报名表，收集必要信息</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <el-card class=\"box-card\">\r\n              <div><img class=\"image\" src=\"../../assets/images/qnCreateMore.png\" alt=\"more_img\"></div>\r\n              <span><h3 style=\"height: 350px;margin: auto\">更多内容 敬请期待......</h3><br></span>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      <!-- <el-row class=\"type-choose\"> -->\r\n\r\n        \r\n      <!-- </el-row> -->\r\n  \r\n      <el-dialog title=请输入问卷标题 v-model=\"dialogVisible\" width=\"30%\" style=\"margin-top: 100px\">\r\n        <el-input class=\"input\" v-model=\"surveyTitle\" ></el-input>\r\n        <div class=\"dialog-footer\" style=\"text-align: center\">\r\n            <el-row class=\"bt-group\">\r\n            <el-button :span=\"6\" @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button :span=\"6\" type=\"primary\" @click=\"createConfirm\">确 定</el-button>\r\n            </el-row>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import user from \"@/storage/user\";\r\n  \r\n  export default {\r\n    name: \"createQue\",\r\n    data() {\r\n      return {\r\n        isHoverSurvey: false,\r\n        isHoverTest: false,\r\n        isHoverForm: false,\r\n        isHoverVote: false,\r\n        isHoverPunch: false,\r\n        dialogVisible :false,\r\n        quesType: 1,\r\n        surveyTitle: \"\",\r\n      }\r\n    },\r\n    methods: {\r\n      createSurvey(tag) {\r\n        var formData = new FormData();\r\n        const userInfo = user.getters.getUser(user.state());\r\n        console.log(userInfo);\r\n        // formData.append(\"username\", userInfo.user.username);\r\n        formData.append(\"title\", this.surveyTitle);\r\n        formData.append(\"description\", \"\");\r\n\r\n        console.log(userInfo.user.username);\r\n  \r\n        var editUrlName = '';\r\n  \r\n        switch (tag) {\r\n          case 1:\r\n            formData.append(\"type\", \"1\");\r\n            editUrlName = 'questionaireEdit';\r\n            break;\r\n          case 2:\r\n            formData.append(\"type\", \"3\");\r\n            editUrlName = 'questionaireTest';\r\n            break;\r\n          case 3:\r\n            formData.append(\"type\", \"2\");\r\n            editUrlName = 'questionaireVote';\r\n            break;\r\n          case 4:\r\n            formData.append(\"type\", \"4\");\r\n            editUrlName = 'SignUpForm';\r\n            break;\r\n          case 5:\r\n            formData.append(\"type\", \"5\");\r\n            editUrlName = 'EditHate';\r\n            break;\r\n        }\r\n\r\n        console.log(formData);\r\n  \r\n        this.$axios({\r\n          method: 'post',\r\n          url: '/surveymanage/api/createsurvey',\r\n          data: formData,\r\n        })\r\n        .then(res => {\r\n          switch (res.data.status_code) {\r\n            case 1:\r\n              var surveyId = res.data.survey_id;\r\n              this.$router.push({\r\n                name: editUrlName,\r\n                query: {\r\n                  pid: surveyId\r\n                }\r\n              });\r\n              break;\r\n            case 2:\r\n              this.$message.warning(\"form invalid\");\r\n              break;\r\n            default:\r\n              this.$message.error(\"操作失败！\");\r\n              console.log(res.data.status_code);\r\n              break;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      createVoteQn() {\r\n        this.$router.push('/questionaireVote');\r\n      },\r\n      createTestQn() {\r\n        this.$router.push('/questionaireTest');\r\n      },\r\n      create1() {\r\n        this.dialogVisible=true;\r\n        this.quesType=1;\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .create-que{\r\n    padding-top: 15%;\r\n    width: 97%;\r\n    text-align: center;\r\n    margin-left: 0%;\r\n    /* align-self: center; */\r\n  }\r\n  \r\n  .create-que .describe{\r\n    color: #808080;\r\n    text-align: center;\r\n    padding-left: 18px;\r\n  }\r\n  \r\n  .create-que .describe .el-row{\r\n    margin: 20px;\r\n  }\r\n  \r\n  .create-que .el-card__header {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  \r\n  .create-que .type-choose {\r\n    padding-bottom: 22px;\r\n    width: 100%; /* 容器宽度设为 100% */\r\n    justify-content: space-between; /* 调整为环绕间隔 */\r\n  }\r\n    \r\n  .create-que .box-card:hover{\r\n    margin-top: -5px;\r\n    opacity: 0.8;\r\n    \r\n  }\r\n  \r\n  .create-que .box-card {\r\n    margin-right: 5px;\r\n    margin-left: 5px;\r\n    text-align: center;\r\n    width: 306px;\r\n    height: 420px;\r\n    transition: all .5s;\r\n    cursor: pointer;\r\n    border: 1px solid #e4e7ed;\r\n    border-radius: 4px;\r\n    background-color: #fff;\r\n  }\r\n  \r\n  .create-que .image {\r\n    width: 100%;\r\n    height: 258px;\r\n    display: block;\r\n    margin: 0;\r\n  }\r\n  \r\n  .create-que .el-button {\r\n    width: 180px; /* 按钮宽度适度减少 */\r\n    margin-top: 20px; /* 按钮与描述文字间隔 */\r\n  }\r\n  \r\n  .create-que .input {\r\n    width: 432px;\r\n  }\r\n  \r\n  .create-que .el-button+.el-button {\r\n    margin-left: 60px;\r\n  }\r\n  \r\n  .create-que .bt-group {\r\n    margin-bottom: 24px;\r\n  }\r\n  </style>"],"mappings":";AA4EE,OAAOA,IAAG,MAAO,gBAAgB;AAEjC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,KAAK;MACpBC,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE,KAAK;MAClBC,YAAY,EAAE,KAAK;MACnBC,aAAY,EAAG,KAAK;MACpBC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACC,GAAG,EAAE;MAChB,IAAIC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC7B,MAAMC,QAAO,GAAIhB,IAAI,CAACiB,OAAO,CAACC,OAAO,CAAClB,IAAI,CAACmB,KAAK,CAAC,CAAC,CAAC;MACnDC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;MACrB;MACAF,QAAQ,CAACQ,MAAM,CAAC,OAAO,EAAE,IAAI,CAACZ,WAAW,CAAC;MAC1CI,QAAQ,CAACQ,MAAM,CAAC,aAAa,EAAE,EAAE,CAAC;MAElCF,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAChB,IAAI,CAACuB,QAAQ,CAAC;MAEnC,IAAIC,WAAU,GAAI,EAAE;MAEpB,QAAQX,GAAG;QACT,KAAK,CAAC;UACJC,QAAQ,CAACQ,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,kBAAkB;UAChC;QACF,KAAK,CAAC;UACJV,QAAQ,CAACQ,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,kBAAkB;UAChC;QACF,KAAK,CAAC;UACJV,QAAQ,CAACQ,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,kBAAkB;UAChC;QACF,KAAK,CAAC;UACJV,QAAQ,CAACQ,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,YAAY;UAC1B;QACF,KAAK,CAAC;UACJV,QAAQ,CAACQ,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,UAAU;UACxB;MACJ;MAEAJ,OAAO,CAACC,GAAG,CAACP,QAAQ,CAAC;MAErB,IAAI,CAACW,MAAM,CAAC;QACVC,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,gCAAgC;QACrCzB,IAAI,EAAEY;MACR,CAAC,EACAc,IAAI,CAACC,GAAE,IAAK;QACX,QAAQA,GAAG,CAAC3B,IAAI,CAAC4B,WAAW;UAC1B,KAAK,CAAC;YACJ,IAAIC,QAAO,GAAIF,GAAG,CAAC3B,IAAI,CAAC8B,SAAS;YACjC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;cAChBjC,IAAI,EAAEuB,WAAW;cACjBW,KAAK,EAAE;gBACLC,GAAG,EAAEL;cACP;YACF,CAAC,CAAC;YACF;UACF,KAAK,CAAC;YACJ,IAAI,CAACM,QAAQ,CAACC,OAAO,CAAC,cAAc,CAAC;YACrC;UACF;YACE,IAAI,CAACD,QAAQ,CAACE,KAAK,CAAC,OAAO,CAAC;YAC5BnB,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC3B,IAAI,CAAC4B,WAAW,CAAC;YACjC;QACJ;MACF,CAAC,EACAU,KAAK,CAACC,GAAE,IAAK;QACZrB,OAAO,CAACC,GAAG,CAACoB,GAAG,CAAC;MAClB,CAAC;IACH,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,IAAI,CAACT,OAAO,CAACC,IAAI,CAAC,mBAAmB,CAAC;IACxC,CAAC;IACDS,YAAYA,CAAA,EAAG;MACb,IAAI,CAACV,OAAO,CAACC,IAAI,CAAC,mBAAmB,CAAC;IACxC,CAAC;IACDU,OAAOA,CAAA,EAAG;MACR,IAAI,CAACpC,aAAa,GAAC,IAAI;MACvB,IAAI,CAACC,QAAQ,GAAC,CAAC;IACjB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}