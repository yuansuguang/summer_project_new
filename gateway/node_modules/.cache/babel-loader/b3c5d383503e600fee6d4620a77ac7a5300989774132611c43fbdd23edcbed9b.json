{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as echarts from 'echarts/lib/echarts';\nimport { getItemVisualColor } from '../../util/visual';\nfunction otherDimToDataDim(data, otherDim) {\n  var dataDim = [];\n  echarts.util.each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var otherDims = dimItem.otherDims;\n    var dimIndex = otherDims[otherDim];\n    if (dimIndex != null && dimIndex !== false) {\n      dataDim[dimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\nexport default function (seriesModel, dataIndex, multipleSeries) {\n  function formatArrayValue(value) {\n    var vertially = true;\n    var result = [];\n    var tooltipDims = otherDimToDataDim(data, 'tooltip');\n    tooltipDims.length ? echarts.util.each(tooltipDims, function (dimIdx) {\n      setEachItem(data.get(dimIdx, dataIndex), dimIdx);\n    }) // By default, all dims is used on tooltip.\n    : echarts.util.each(value, setEachItem);\n    function setEachItem(val, dimIdx) {\n      var dimInfo = data.getDimensionInfo(dimIdx); // If `dimInfo.tooltip` is not set, show tooltip.\n\n      if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n        return;\n      }\n      var dimType = dimInfo.type;\n      var valStr = (vertially ? '- ' + (dimInfo.tooltipName || dimInfo.name) + ': ' : '') + (dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : echarts.format.formatTime('yyyy/MM/dd hh:mm:ss', val) : echarts.format.addCommas(val));\n      valStr && result.push(echarts.format.encodeHTML(valStr));\n    }\n    return (vertially ? '<br/>' : '') + result.join(vertially ? '<br/>' : ', ');\n  }\n  var data = seriesModel.getData();\n  var value = seriesModel.getRawValue(dataIndex);\n  var formattedValue = echarts.util.isArray(value) ? formatArrayValue(value) : echarts.format.encodeHTML(echarts.format.addCommas(value));\n  var name = data.getName(dataIndex);\n  var color = getItemVisualColor(data, dataIndex);\n  if (echarts.util.isObject(color) && color.colorStops) {\n    color = (color.colorStops[0] || {}).color;\n  }\n  color = color || 'transparent';\n  var colorEl = echarts.format.getTooltipMarker(color);\n  var seriesName = seriesModel.name; // FIXME\n\n  if (seriesName === '\\0-') {\n    // Not show '-'\n    seriesName = '';\n  }\n  seriesName = seriesName ? echarts.format.encodeHTML(seriesName) + (!multipleSeries ? '<br/>' : ': ') : '';\n  return !multipleSeries ? seriesName + colorEl + (name ? echarts.format.encodeHTML(name) + ': ' + formattedValue : formattedValue) : colorEl + seriesName + formattedValue;\n}\n;","map":{"version":3,"names":["echarts","getItemVisualColor","otherDimToDataDim","data","otherDim","dataDim","util","each","dimensions","dimName","dimItem","getDimensionInfo","otherDims","dimIndex","name","seriesModel","dataIndex","multipleSeries","formatArrayValue","value","vertially","result","tooltipDims","length","dimIdx","setEachItem","get","val","dimInfo","tooltip","dimType","type","valStr","tooltipName","format","formatTime","addCommas","push","encodeHTML","join","getData","getRawValue","formattedValue","isArray","getName","color","isObject","colorStops","colorEl","getTooltipMarker","seriesName"],"sources":["E:/QuestionairePlanet_Fronted/mytest/node_modules/echarts-gl/lib/chart/common/formatTooltip.js"],"sourcesContent":["import * as echarts from 'echarts/lib/echarts';\nimport { getItemVisualColor } from '../../util/visual';\n\nfunction otherDimToDataDim(data, otherDim) {\n  var dataDim = [];\n  echarts.util.each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var otherDims = dimItem.otherDims;\n    var dimIndex = otherDims[otherDim];\n\n    if (dimIndex != null && dimIndex !== false) {\n      dataDim[dimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\n\nexport default function (seriesModel, dataIndex, multipleSeries) {\n  function formatArrayValue(value) {\n    var vertially = true;\n    var result = [];\n    var tooltipDims = otherDimToDataDim(data, 'tooltip');\n    tooltipDims.length ? echarts.util.each(tooltipDims, function (dimIdx) {\n      setEachItem(data.get(dimIdx, dataIndex), dimIdx);\n    }) // By default, all dims is used on tooltip.\n    : echarts.util.each(value, setEachItem);\n\n    function setEachItem(val, dimIdx) {\n      var dimInfo = data.getDimensionInfo(dimIdx); // If `dimInfo.tooltip` is not set, show tooltip.\n\n      if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n        return;\n      }\n\n      var dimType = dimInfo.type;\n      var valStr = (vertially ? '- ' + (dimInfo.tooltipName || dimInfo.name) + ': ' : '') + (dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : echarts.format.formatTime('yyyy/MM/dd hh:mm:ss', val) : echarts.format.addCommas(val));\n      valStr && result.push(echarts.format.encodeHTML(valStr));\n    }\n\n    return (vertially ? '<br/>' : '') + result.join(vertially ? '<br/>' : ', ');\n  }\n\n  var data = seriesModel.getData();\n  var value = seriesModel.getRawValue(dataIndex);\n  var formattedValue = echarts.util.isArray(value) ? formatArrayValue(value) : echarts.format.encodeHTML(echarts.format.addCommas(value));\n  var name = data.getName(dataIndex);\n  var color = getItemVisualColor(data, dataIndex);\n\n  if (echarts.util.isObject(color) && color.colorStops) {\n    color = (color.colorStops[0] || {}).color;\n  }\n\n  color = color || 'transparent';\n  var colorEl = echarts.format.getTooltipMarker(color);\n  var seriesName = seriesModel.name; // FIXME\n\n  if (seriesName === '\\0-') {\n    // Not show '-'\n    seriesName = '';\n  }\n\n  seriesName = seriesName ? echarts.format.encodeHTML(seriesName) + (!multipleSeries ? '<br/>' : ': ') : '';\n  return !multipleSeries ? seriesName + colorEl + (name ? echarts.format.encodeHTML(name) + ': ' + formattedValue : formattedValue) : colorEl + seriesName + formattedValue;\n}\n;"],"mappings":";AAAA,OAAO,KAAKA,OAAO,MAAM,qBAAqB;AAC9C,SAASC,kBAAkB,QAAQ,mBAAmB;AAEtD,SAASC,iBAAiBA,CAACC,IAAI,EAAEC,QAAQ,EAAE;EACzC,IAAIC,OAAO,GAAG,EAAE;EAChBL,OAAO,CAACM,IAAI,CAACC,IAAI,CAACJ,IAAI,CAACK,UAAU,EAAE,UAAUC,OAAO,EAAE;IACpD,IAAIC,OAAO,GAAGP,IAAI,CAACQ,gBAAgB,CAACF,OAAO,CAAC;IAC5C,IAAIG,SAAS,GAAGF,OAAO,CAACE,SAAS;IACjC,IAAIC,QAAQ,GAAGD,SAAS,CAACR,QAAQ,CAAC;IAElC,IAAIS,QAAQ,IAAI,IAAI,IAAIA,QAAQ,KAAK,KAAK,EAAE;MAC1CR,OAAO,CAACQ,QAAQ,CAAC,GAAGH,OAAO,CAACI,IAAI;IAClC;EACF,CAAC,CAAC;EACF,OAAOT,OAAO;AAChB;AAEA,eAAe,UAAUU,WAAW,EAAEC,SAAS,EAAEC,cAAc,EAAE;EAC/D,SAASC,gBAAgBA,CAACC,KAAK,EAAE;IAC/B,IAAIC,SAAS,GAAG,IAAI;IACpB,IAAIC,MAAM,GAAG,EAAE;IACf,IAAIC,WAAW,GAAGpB,iBAAiB,CAACC,IAAI,EAAE,SAAS,CAAC;IACpDmB,WAAW,CAACC,MAAM,GAAGvB,OAAO,CAACM,IAAI,CAACC,IAAI,CAACe,WAAW,EAAE,UAAUE,MAAM,EAAE;MACpEC,WAAW,CAACtB,IAAI,CAACuB,GAAG,CAACF,MAAM,EAAER,SAAS,CAAC,EAAEQ,MAAM,CAAC;IAClD,CAAC,CAAC,CAAC;IAAA,EACDxB,OAAO,CAACM,IAAI,CAACC,IAAI,CAACY,KAAK,EAAEM,WAAW,CAAC;IAEvC,SAASA,WAAWA,CAACE,GAAG,EAAEH,MAAM,EAAE;MAChC,IAAII,OAAO,GAAGzB,IAAI,CAACQ,gBAAgB,CAACa,MAAM,CAAC,CAAC,CAAC;;MAE7C,IAAI,CAACI,OAAO,IAAIA,OAAO,CAAChB,SAAS,CAACiB,OAAO,KAAK,KAAK,EAAE;QACnD;MACF;MAEA,IAAIC,OAAO,GAAGF,OAAO,CAACG,IAAI;MAC1B,IAAIC,MAAM,GAAG,CAACZ,SAAS,GAAG,IAAI,IAAIQ,OAAO,CAACK,WAAW,IAAIL,OAAO,CAACd,IAAI,CAAC,GAAG,IAAI,GAAG,EAAE,KAAKgB,OAAO,KAAK,SAAS,GAAGH,GAAG,GAAG,EAAE,GAAGG,OAAO,KAAK,MAAM,GAAGb,cAAc,GAAG,EAAE,GAAGjB,OAAO,CAACkC,MAAM,CAACC,UAAU,CAAC,qBAAqB,EAAER,GAAG,CAAC,GAAG3B,OAAO,CAACkC,MAAM,CAACE,SAAS,CAACT,GAAG,CAAC,CAAC;MAC3PK,MAAM,IAAIX,MAAM,CAACgB,IAAI,CAACrC,OAAO,CAACkC,MAAM,CAACI,UAAU,CAACN,MAAM,CAAC,CAAC;IAC1D;IAEA,OAAO,CAACZ,SAAS,GAAG,OAAO,GAAG,EAAE,IAAIC,MAAM,CAACkB,IAAI,CAACnB,SAAS,GAAG,OAAO,GAAG,IAAI,CAAC;EAC7E;EAEA,IAAIjB,IAAI,GAAGY,WAAW,CAACyB,OAAO,CAAC,CAAC;EAChC,IAAIrB,KAAK,GAAGJ,WAAW,CAAC0B,WAAW,CAACzB,SAAS,CAAC;EAC9C,IAAI0B,cAAc,GAAG1C,OAAO,CAACM,IAAI,CAACqC,OAAO,CAACxB,KAAK,CAAC,GAAGD,gBAAgB,CAACC,KAAK,CAAC,GAAGnB,OAAO,CAACkC,MAAM,CAACI,UAAU,CAACtC,OAAO,CAACkC,MAAM,CAACE,SAAS,CAACjB,KAAK,CAAC,CAAC;EACvI,IAAIL,IAAI,GAAGX,IAAI,CAACyC,OAAO,CAAC5B,SAAS,CAAC;EAClC,IAAI6B,KAAK,GAAG5C,kBAAkB,CAACE,IAAI,EAAEa,SAAS,CAAC;EAE/C,IAAIhB,OAAO,CAACM,IAAI,CAACwC,QAAQ,CAACD,KAAK,CAAC,IAAIA,KAAK,CAACE,UAAU,EAAE;IACpDF,KAAK,GAAG,CAACA,KAAK,CAACE,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAEF,KAAK;EAC3C;EAEAA,KAAK,GAAGA,KAAK,IAAI,aAAa;EAC9B,IAAIG,OAAO,GAAGhD,OAAO,CAACkC,MAAM,CAACe,gBAAgB,CAACJ,KAAK,CAAC;EACpD,IAAIK,UAAU,GAAGnC,WAAW,CAACD,IAAI,CAAC,CAAC;;EAEnC,IAAIoC,UAAU,KAAK,KAAK,EAAE;IACxB;IACAA,UAAU,GAAG,EAAE;EACjB;EAEAA,UAAU,GAAGA,UAAU,GAAGlD,OAAO,CAACkC,MAAM,CAACI,UAAU,CAACY,UAAU,CAAC,IAAI,CAACjC,cAAc,GAAG,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE;EACzG,OAAO,CAACA,cAAc,GAAGiC,UAAU,GAAGF,OAAO,IAAIlC,IAAI,GAAGd,OAAO,CAACkC,MAAM,CAACI,UAAU,CAACxB,IAAI,CAAC,GAAG,IAAI,GAAG4B,cAAc,GAAGA,cAAc,CAAC,GAAGM,OAAO,GAAGE,UAAU,GAAGR,cAAc;AAC3K;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}