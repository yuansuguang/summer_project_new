{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport user from \"@/storage/user\";\nexport default {\n  name: \"createQue\",\n  data() {\n    return {\n      isHoverSurvey: false,\n      isHoverTest: false,\n      isHoverForm: false,\n      isHoverVote: false,\n      isHoverPunch: false,\n      dialogVisible: false,\n      quesType: 1,\n      surveyTitle: \"\"\n    };\n  },\n  methods: {\n    createSurvey(tag) {\n      var formData = new FormData();\n      const userInfo = user.getters.getUser(user.state());\n      formData.append(\"username\", userInfo.user.username);\n      formData.append(\"title\", this.surveyTitle);\n      var editUrlName = '';\n      switch (tag) {\n        case 1:\n          formData.append(\"type\", \"1\");\n          editUrlName = 'Edit';\n          break;\n        case 2:\n          formData.append(\"type\", \"3\");\n          editUrlName = 'Test';\n          break;\n        case 3:\n          formData.append(\"type\", \"2\");\n          editUrlName = 'EditVote';\n          break;\n        case 4:\n          formData.append(\"type\", \"4\");\n          editUrlName = 'SignUpForm';\n          break;\n        case 5:\n          formData.append(\"type\", \"5\");\n          editUrlName = 'EditHate';\n          break;\n      }\n      this.$axios({\n        method: 'post',\n        url: '/api/surveymanage/createsurvey',\n        data: formData\n      }).then(res => {\n        switch (res.data.status_code) {\n          case 1:\n            var surveyId = res.data.survey_id;\n            this.$router.push({\n              name: editUrlName,\n              query: {\n                pid: surveyId\n              }\n            });\n            break;\n          case 2:\n            this.$message.warning(\"登录信息失效，请重新登录！\");\n            setTimeout(() => {\n              this.$store.dispatch('clear');\n              location.reload();\n            }, 500);\n            break;\n          default:\n            this.$message.error(\"操作失败！\");\n            break;\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    createConfirm() {\n      this.dialogVisible = false;\n      this.createSurvey(this.quesType);\n    }\n  }\n};","map":{"version":3,"names":["user","name","data","isHoverSurvey","isHoverTest","isHoverForm","isHoverVote","isHoverPunch","dialogVisible","quesType","surveyTitle","methods","createSurvey","tag","formData","FormData","userInfo","getters","getUser","state","append","username","editUrlName","$axios","method","url","then","res","status_code","surveyId","survey_id","$router","push","query","pid","$message","warning","setTimeout","$store","dispatch","location","reload","error","catch","err","console","log","createConfirm"],"sources":["E:\\mytest\\src\\views\\qn-createpane\\qnCreate.vue"],"sourcesContent":["<template v-slot:footer>\r\n    <div class=\"create-que\">\r\n        <el-row class=\"type-choose\">\r\n          <el-col :span=\"5\" offset=\"0\">\r\n            <el-card class=\"box-card\" @mouseover=\"isHoverSurvey=true\" @mouseout=\"isHoverSurvey=false\" >\r\n              <div style=\"display: table-cell;text-align: center\"><img class=\"image\" src=\"../../assets/images/qnCreateInvestigation.png\" alt=\"investigation_img\"></div>\r\n              <span ><h3>空白问卷</h3></span>\r\n              <div v-if=\"isHoverSurvey\">\r\n                <el-button type=\"primary\" @click=\"dialogVisible=true;quesType=1;\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row>&emsp;&emsp;提供最大创建自由</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-card class=\"box-card\"  @mouseover=\"isHoverTest=true\" @mouseout=\"isHoverTest=false\">\r\n              <img class=\"image\" src=\"../../assets/images/qnCreateExam.png\" alt=\"exam_img\">\r\n              <span><h3>考试问卷</h3></span>\r\n              <div v-if=\"isHoverTest\">\r\n                <el-button type=\"danger\" @click=\"dialogVisible=true;quesType=2\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row>&emsp;&emsp;设定题目和答案</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-card class=\"box-card\" @mouseover=\"isHoverVote=true\" @mouseout=\"isHoverVote=false\">\r\n              <img class=\"image\" src=\"../../assets/images/qnCreateVote.png\" alt=\"vote_img\">\r\n              <span ><h3>投票问卷</h3></span>\r\n              <div v-if=\"isHoverVote\">\r\n                <el-button type=\"warning\" @click=\"dialogVisible=true;quesType=3\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row >汇集意见，群体决策选择</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-card class=\"box-card\" @mouseover=\"isHoverPunch=true\" @mouseout=\"isHoverPunch=false\">\r\n              <img class=\"image\" src=\"../../assets/images/qnCreateCheckin.png\" alt=\"checkin_img\">\r\n              <span ><h3>报名问卷</h3></span>\r\n              <div v-if=\"isHoverPunch\">\r\n                <el-button type=\"success\" @click=\"dialogVisible=true;quesType=5\">立即创建</el-button>\r\n              </div>\r\n              <div class=\"describe\" v-else>\r\n                <el-row>活动报名表，收集必要信息</el-row>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <el-card class=\"box-card\">\r\n              <div><img class=\"image\" src=\"../../assets/images/qnCreateMore.png\" alt=\"more_img\"></div>\r\n              <span><h3 style=\"height: 350px;margin: auto\">更多内容 敬请期待......</h3><br></span>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      <!-- <el-row class=\"type-choose\"> -->\r\n\r\n        \r\n      <!-- </el-row> -->\r\n  \r\n      <el-dialog title=请输入问卷标题 v-model=\"dialogVisible\" width=\"30%\" style=\"margin-top: 100px\">\r\n        <el-input class=\"input\" v-model=\"surveyTitle\" ></el-input>\r\n        <div class=\"dialog-footer\" style=\"text-align: center\">\r\n            <el-row class=\"bt-group\">\r\n            <el-button :span=\"6\" @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button :span=\"6\" type=\"primary\" @click=\"createConfirm\">确 定</el-button>\r\n            </el-row>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import user from \"@/storage/user\";\r\n  \r\n  export default {\r\n    name: \"createQue\",\r\n    data() {\r\n      return {\r\n        isHoverSurvey: false,\r\n        isHoverTest: false,\r\n        isHoverForm: false,\r\n        isHoverVote: false,\r\n        isHoverPunch: false,\r\n        dialogVisible :false,\r\n        quesType: 1,\r\n        surveyTitle: \"\",\r\n      }\r\n    },\r\n    methods: {\r\n      createSurvey(tag) {\r\n        var formData = new FormData();\r\n        const userInfo = user.getters.getUser(user.state());\r\n        formData.append(\"username\", userInfo.user.username);\r\n        formData.append(\"title\", this.surveyTitle);\r\n  \r\n        var editUrlName = '';\r\n  \r\n        switch (tag) {\r\n          case 1:\r\n            formData.append(\"type\", \"1\");\r\n            editUrlName = 'Edit';\r\n            break;\r\n          case 2:\r\n            formData.append(\"type\", \"3\");\r\n            editUrlName = 'Test';\r\n            break;\r\n          case 3:\r\n            formData.append(\"type\", \"2\");\r\n            editUrlName = 'EditVote';\r\n            break;\r\n          case 4:\r\n            formData.append(\"type\", \"4\");\r\n            editUrlName = 'SignUpForm';\r\n            break;\r\n          case 5:\r\n            formData.append(\"type\", \"5\");\r\n            editUrlName = 'EditHate';\r\n            break;\r\n        }\r\n  \r\n        this.$axios({\r\n          method: 'post',\r\n          url: '/api/surveymanage/createsurvey',\r\n          data: formData,\r\n        })\r\n        .then(res => {\r\n          switch (res.data.status_code) {\r\n            case 1:\r\n              var surveyId = res.data.survey_id;\r\n              this.$router.push({\r\n                name: editUrlName,\r\n                query: {\r\n                  pid: surveyId\r\n                }\r\n              });\r\n              break;\r\n            case 2:\r\n              this.$message.warning(\"登录信息失效，请重新登录！\");\r\n              setTimeout(() => {\r\n                this.$store.dispatch('clear');\r\n                location.reload();\r\n              }, 500);\r\n              break;\r\n            default:\r\n              this.$message.error(\"操作失败！\");\r\n              break;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      createConfirm(){\r\n        this.dialogVisible=false;\r\n        this.createSurvey(this.quesType);\r\n      },\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .create-que{\r\n    padding-top: 15%;\r\n    width: 100%;\r\n    text-align: center;\r\n    margin-left: 0%;\r\n    /* align-self: center; */\r\n  }\r\n  \r\n  .create-que .describe{\r\n    color: #808080;\r\n    text-align: center;\r\n    padding-left: 18px;\r\n  }\r\n  \r\n  .create-que .describe .el-row{\r\n    margin: 20px;\r\n  }\r\n  \r\n  .create-que .el-card__header {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  \r\n  .create-que .type-choose{\r\n    padding-bottom: 22px;\r\n    width: 97%;\r\n    text-align: center;\r\n  }\r\n  \r\n  .create-que .box-card:hover{\r\n    margin-top: -5px;\r\n    opacity: 0.8;\r\n  }\r\n  \r\n  .create-que .box-card {\r\n    margin-right: 5px;\r\n    margin-left: 5px;\r\n    text-align: center;\r\n    width: 306px;\r\n    height: 420px;\r\n    transition: all .5s;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .create-que .image {\r\n    width: 100%;\r\n    height: 258px;\r\n    display: block;\r\n    margin: 0;\r\n  }\r\n  \r\n  .create-que .el-button{\r\n    width: 186px;\r\n  }\r\n  \r\n  .create-que .input {\r\n    width: 432px;\r\n  }\r\n  \r\n  .create-que .el-button+.el-button {\r\n    margin-left: 60px;\r\n  }\r\n  \r\n  .create-que .bt-group {\r\n    margin-bottom: 24px;\r\n  }\r\n  </style>"],"mappings":";AA4EE,OAAOA,IAAG,MAAO,gBAAgB;AAEjC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,KAAK;MACpBC,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE,KAAK;MAClBC,YAAY,EAAE,KAAK;MACnBC,aAAY,EAAG,KAAK;MACpBC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACC,GAAG,EAAE;MAChB,IAAIC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC7B,MAAMC,QAAO,GAAIhB,IAAI,CAACiB,OAAO,CAACC,OAAO,CAAClB,IAAI,CAACmB,KAAK,CAAC,CAAC,CAAC;MACnDL,QAAQ,CAACM,MAAM,CAAC,UAAU,EAAEJ,QAAQ,CAAChB,IAAI,CAACqB,QAAQ,CAAC;MACnDP,QAAQ,CAACM,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,WAAW,CAAC;MAE1C,IAAIY,WAAU,GAAI,EAAE;MAEpB,QAAQT,GAAG;QACT,KAAK,CAAC;UACJC,QAAQ,CAACM,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,MAAM;UACpB;QACF,KAAK,CAAC;UACJR,QAAQ,CAACM,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,MAAM;UACpB;QACF,KAAK,CAAC;UACJR,QAAQ,CAACM,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,UAAU;UACxB;QACF,KAAK,CAAC;UACJR,QAAQ,CAACM,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,YAAY;UAC1B;QACF,KAAK,CAAC;UACJR,QAAQ,CAACM,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;UAC5BE,WAAU,GAAI,UAAU;UACxB;MACJ;MAEA,IAAI,CAACC,MAAM,CAAC;QACVC,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,gCAAgC;QACrCvB,IAAI,EAAEY;MACR,CAAC,EACAY,IAAI,CAACC,GAAE,IAAK;QACX,QAAQA,GAAG,CAACzB,IAAI,CAAC0B,WAAW;UAC1B,KAAK,CAAC;YACJ,IAAIC,QAAO,GAAIF,GAAG,CAACzB,IAAI,CAAC4B,SAAS;YACjC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;cAChB/B,IAAI,EAAEqB,WAAW;cACjBW,KAAK,EAAE;gBACLC,GAAG,EAAEL;cACP;YACF,CAAC,CAAC;YACF;UACF,KAAK,CAAC;YACJ,IAAI,CAACM,QAAQ,CAACC,OAAO,CAAC,eAAe,CAAC;YACtCC,UAAU,CAAC,MAAM;cACf,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,OAAO,CAAC;cAC7BC,QAAQ,CAACC,MAAM,CAAC,CAAC;YACnB,CAAC,EAAE,GAAG,CAAC;YACP;UACF;YACE,IAAI,CAACN,QAAQ,CAACO,KAAK,CAAC,OAAO,CAAC;YAC5B;QACJ;MACF,CAAC,EACAC,KAAK,CAACC,GAAE,IAAK;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC;IACH,CAAC;IACDG,aAAaA,CAAA,EAAE;MACb,IAAI,CAACvC,aAAa,GAAC,KAAK;MACxB,IAAI,CAACI,YAAY,CAAC,IAAI,CAACH,QAAQ,CAAC;IAClC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}